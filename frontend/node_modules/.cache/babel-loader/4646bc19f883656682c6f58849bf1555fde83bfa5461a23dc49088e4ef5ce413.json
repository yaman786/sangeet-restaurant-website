{"ast":null,"code":"import _objectSpread from\"/Users/amanrana/Desktop/sangeet_restaurant_website/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{motion}from'framer-motion';import{useParams,useNavigate}from'react-router-dom';import{fetchMenuItems,fetchMenuCategories,getTableByQRCode,getOrdersByTable}from'../services/api';import socketService from'../services/socketService';import toast from'react-hot-toast';import{clearCartData}from'../utils/cartUtils';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const QRMenuPage=()=>{const{qrCode}=useParams();const navigate=useNavigate();const[menuItems,setMenuItems]=useState([]);const[categories,setCategories]=useState([]);const[selectedCategory,setSelectedCategory]=useState('all');const[loading,setLoading]=useState(true);const[tableInfo,setTableInfo]=useState(null);const[cart,setCart]=useState([]);const[cartInitialized,setCartInitialized]=useState(false);const[isRedirecting,setIsRedirecting]=useState(false);const hasRedirected=useRef(false);// Check for active orders automatically\nuseEffect(()=>{const checkForActiveOrders=async()=>{try{const tableData=await getTableByQRCode(qrCode);if(tableData){const ordersResponse=await getOrdersByTable(tableData.table_number);const orders=ordersResponse||[];const activeOrders=orders.filter(order=>order.status!=='completed'&&order.status!=='cancelled');if(activeOrders.length>0){const firstActiveOrder=activeOrders[0];const redirectUrl=\"/dashboard?table=\".concat(tableData.table_number,\"&orderId=\").concat(firstActiveOrder.id,\"&orderNumber=\").concat(firstActiveOrder.order_number);toast.success(\"Welcome back! Redirecting to your active order...\");navigate(redirectUrl,{replace:true});}}}catch(error){console.error('Error in automatic redirect check:',error);}};// Small delay to ensure component is fully loaded\nconst timer=setTimeout(checkForActiveOrders,500);return()=>clearTimeout(timer);},[qrCode,navigate]);useEffect(()=>{// Prevent multiple redirects\nif(hasRedirected.current){return;}const loadData=async()=>{try{setLoading(true);// Get table information from QR code\nconst tableData=await getTableByQRCode(qrCode);if(!tableData){toast.error('Invalid QR code');navigate('/');return;}setTableInfo(tableData);// Check for active orders for this table\ntry{const ordersResponse=await getOrdersByTable(tableData.table_number);const orders=ordersResponse.data||[];// Filter for active orders (not completed or cancelled)\nconst activeOrders=orders.filter(order=>order.status!=='completed'&&order.status!=='cancelled');if(activeOrders.length>0){// Set redirecting state to prevent menu rendering\nsetIsRedirecting(true);hasRedirected.current=true;// Get the first active order for customer details\nconst firstActiveOrder=activeOrders[0];// Store table info for tracking page\nlocalStorage.setItem('currentTable',JSON.stringify(tableData));// Store customer information from the active order\nlocalStorage.setItem(\"customer_\".concat(tableData.table_number),JSON.stringify({name:firstActiveOrder.customer_name,orderId:firstActiveOrder.id,orderNumber:firstActiveOrder.order_number}));// Build redirect URL\nconst redirectUrl=\"/dashboard?table=\".concat(tableData.table_number,\"&customerName=\").concat(encodeURIComponent(firstActiveOrder.customer_name),\"&orderId=\").concat(firstActiveOrder.id,\"&orderNumber=\").concat(firstActiveOrder.order_number);// Show toast and redirect immediately\ntoast.success('You have an active order! Redirecting to tracking page...');// Redirect immediately\nnavigate(redirectUrl,{replace:true});return;// Exit early - don't load menu data\n}}catch(error){console.error('Error checking orders:',error);// Continue to menu page if there's an error checking orders\n}// Only load menu data if no active orders found\nconst menuData=await fetchMenuItems();setMenuItems(menuData);const categoriesData=await fetchMenuCategories();setCategories(categoriesData);}catch(error){console.error('Error loading data:',error);toast.error('Failed to load menu. Please try again.');}finally{setLoading(false);}};loadData();},[]);// Temporarily remove dependencies to test\n// Load cart from localStorage on component mount\nuseEffect(()=>{const savedCart=localStorage.getItem(\"cart_\".concat(qrCode));if(savedCart){try{const parsedCart=JSON.parse(savedCart);if(Array.isArray(parsedCart)&&parsedCart.length>0){setCart(parsedCart);}else{setCart([]);}}catch(error){console.error('Error parsing cart data:',error);setCart([]);}}else{setCart([]);}setCartInitialized(true);},[qrCode]);// Save cart to localStorage whenever it changes\nuseEffect(()=>{if(!cartInitialized){return;}if(cart.length>0){try{const cartData=JSON.stringify(cart);localStorage.setItem(\"cart_\".concat(qrCode),cartData);}catch(error){console.error('Error saving cart to localStorage:',error);}}else{const existingCart=localStorage.getItem(\"cart_\".concat(qrCode));if(existingCart){try{localStorage.removeItem(\"cart_\".concat(qrCode));}catch(error){console.error('Error removing cart from localStorage:',error);}}}},[cart,qrCode,cartInitialized]);// Socket connection and order deletion listener\nuseEffect(()=>{// Connect to socket service\nsocketService.connect();// Join table room for order notifications\nif(tableInfo!==null&&tableInfo!==void 0&&tableInfo.table_number){socketService.joinTable(tableInfo.table_number);}// Listen for order deletion events\nconst handleOrderDeleted=data=>{console.log('🗑️ Order deleted event received:',data);// Check if this deletion affects our table\nif(data.tableNumber&&tableInfo!==null&&tableInfo!==void 0&&tableInfo.table_number&&data.tableNumber.toString()===tableInfo.table_number.toString()){console.log('🗑️ Clearing cart for deleted order on table',tableInfo.table_number);// Clear cart state\nsetCart([]);// Use the cart utility function for comprehensive clearing\nconst success=clearCartData(qrCode,tableInfo.table_number);if(success){console.log('✅ Cart data cleared successfully');toast.success('Previous order has been cancelled. Your cart has been cleared.');}else{console.error('❌ Failed to clear cart data');}}};socketService.onOrderDeleted(handleOrderDeleted);// Cleanup function\nreturn()=>{socketService.removeListener('order-deleted');};},[tableInfo,qrCode]);const addToCart=item=>{setCart(prevCart=>{const existingItem=prevCart.find(cartItem=>cartItem.menu_item_id===item.id);let newCart;if(existingItem){newCart=prevCart.map(cartItem=>cartItem.menu_item_id===item.id?_objectSpread(_objectSpread({},cartItem),{},{quantity:cartItem.quantity+1}):cartItem);}else{newCart=[...prevCart,{menu_item_id:item.id,quantity:1,name:item.name,price:item.price,special_requests:''}];}// Immediately save to localStorage\ntry{const cartData=JSON.stringify(newCart);localStorage.setItem(\"cart_\".concat(qrCode),cartData);}catch(error){console.error('Error saving cart immediately:',error);}return newCart;});toast.success(\"\".concat(item.name,\" added to cart!\"));};const handleViewCart=()=>{navigate(\"/qr/\".concat(qrCode,\"/cart\"));};const filteredMenuItems=selectedCategory==='all'?menuItems:menuItems.filter(item=>{// Handle both string categories and category objects\nconst itemCategory=item.category_name||item.category;const selectedCat=typeof selectedCategory==='object'?selectedCategory.name:selectedCategory;return itemCategory===selectedCat;});if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-sangeet-neutral-950 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sangeet-400\",children:\"Loading menu...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-sangeet-neutral-950\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"fixed top-0 left-0 right-0 bg-gradient-to-r from-sangeet-neutral-900 to-sangeet-neutral-800 border-b border-sangeet-neutral-700 p-4 z-50 shadow-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-sangeet-400 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sangeet-neutral-950 font-bold text-lg\",children:\"\\uD83C\\uDF7D\\uFE0F\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-sangeet-400\",children:\"Sangeet Restaurant\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sangeet-neutral-400 text-sm\",children:[\"Table \",tableInfo===null||tableInfo===void 0?void 0:tableInfo.table_number,\" \\u2022 Digital Menu\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sangeet-400 font-bold text-lg\",children:[\"$\",cart.reduce((total,item)=>total+parseFloat(item.price)*item.quantity,0).toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sangeet-neutral-400 text-sm\",children:[cart.length,\" item\",cart.length!==1?'s':'',\" in cart\"]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleViewCart,disabled:cart.length===0,className:\"bg-sangeet-400 text-sangeet-neutral-950 px-4 py-2 rounded-lg font-semibold hover:bg-sangeet-300 transition-colors disabled:opacity-50 shadow-lg hover:shadow-xl flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDED2\"}),/*#__PURE__*/_jsx(\"span\",{children:\"View Cart\"})]})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto p-4 pt-24\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-sangeet-400 mb-3 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",children:\"\\uD83D\\uDCCB\"}),\"Menu Categories\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedCategory('all'),className:\"px-4 py-2 rounded-full text-sm font-medium transition-all \".concat(selectedCategory==='all'?'bg-sangeet-400 text-sangeet-neutral-950 shadow-lg':'bg-sangeet-neutral-800 text-sangeet-neutral-400 hover:bg-sangeet-neutral-700'),children:\"All Items\"}),categories.map(category=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedCategory(category.name||category),className:\"px-4 py-2 rounded-full text-sm font-medium transition-all \".concat(selectedCategory===(category.name||category)?'bg-sangeet-400 text-sangeet-neutral-950 shadow-lg':'bg-sangeet-neutral-800 text-sangeet-neutral-400 hover:bg-sangeet-neutral-700'),children:category.name||category},category.id||category.name))]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mb-6\",children:filteredMenuItems.map(item=>/*#__PURE__*/_jsxs(motion.div,{whileHover:{scale:1.02},className:\"bg-gradient-to-br from-sangeet-neutral-900 to-sangeet-neutral-800 rounded-xl overflow-hidden border border-sangeet-neutral-700 hover:border-sangeet-neutral-600 transition-all flex flex-col h-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-48 md:h-52 overflow-hidden\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image_url,alt:item.name,className:\"w-full h-full object-cover\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 md:p-5 flex flex-col flex-grow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-base md:text-lg font-semibold text-sangeet-400 flex-1 mr-2\",children:item.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sangeet-400 font-bold text-lg whitespace-nowrap\",children:[\"$\",item.price]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-sangeet-neutral-400 mb-3 line-clamp-2 min-h-[2.5rem]\",children:item.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-1 mb-4 min-h-[1.5rem]\",children:[item.is_vegetarian&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-green-600 text-white text-xs rounded-full\",children:\"\\uD83C\\uDF31 Veg\"}),item.is_spicy&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-red-600 text-white text-xs rounded-full\",children:\"\\uD83D\\uDD25 Spicy\"}),item.is_popular&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-yellow-600 text-white text-xs rounded-full\",children:\"\\u2B50 Popular\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-auto\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>addToCart(item),className:\"w-full bg-sangeet-400 text-sangeet-neutral-950 py-2 md:py-3 rounded-lg font-semibold hover:bg-sangeet-300 transition-colors shadow-lg hover:shadow-xl text-sm md:text-base\",children:\"Add to Cart\"})})]})]},item.id))})]})]});};export default QRMenuPage;","map":{"version":3,"names":["React","useState","useEffect","useRef","motion","useParams","useNavigate","fetchMenuItems","fetchMenuCategories","getTableByQRCode","getOrdersByTable","socketService","toast","clearCartData","jsx","_jsx","jsxs","_jsxs","QRMenuPage","qrCode","navigate","menuItems","setMenuItems","categories","setCategories","selectedCategory","setSelectedCategory","loading","setLoading","tableInfo","setTableInfo","cart","setCart","cartInitialized","setCartInitialized","isRedirecting","setIsRedirecting","hasRedirected","checkForActiveOrders","tableData","ordersResponse","table_number","orders","activeOrders","filter","order","status","length","firstActiveOrder","redirectUrl","concat","id","order_number","success","replace","error","console","timer","setTimeout","clearTimeout","current","loadData","data","localStorage","setItem","JSON","stringify","name","customer_name","orderId","orderNumber","encodeURIComponent","menuData","categoriesData","savedCart","getItem","parsedCart","parse","Array","isArray","cartData","existingCart","removeItem","connect","joinTable","handleOrderDeleted","log","tableNumber","toString","onOrderDeleted","removeListener","addToCart","item","prevCart","existingItem","find","cartItem","menu_item_id","newCart","map","_objectSpread","quantity","price","special_requests","handleViewCart","filteredMenuItems","itemCategory","category_name","category","selectedCat","className","children","reduce","total","parseFloat","toFixed","onClick","disabled","div","whileHover","scale","src","image_url","alt","description","is_vegetarian","is_spicy","is_popular"],"sources":["/Users/amanrana/Desktop/sangeet_restaurant_website/frontend/src/pages/QRMenuPage.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { motion } from 'framer-motion';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { fetchMenuItems, fetchMenuCategories, getTableByQRCode, getOrdersByTable } from '../services/api';\nimport socketService from '../services/socketService';\nimport toast from 'react-hot-toast';\nimport { clearCartData } from '../utils/cartUtils';\n\nconst QRMenuPage = () => {\n  const { qrCode } = useParams();\n  const navigate = useNavigate();\n  const [menuItems, setMenuItems] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [loading, setLoading] = useState(true);\n  const [tableInfo, setTableInfo] = useState(null);\n  const [cart, setCart] = useState([]);\n  const [cartInitialized, setCartInitialized] = useState(false);\n  const [isRedirecting, setIsRedirecting] = useState(false);\n  const hasRedirected = useRef(false);\n\n  // Check for active orders automatically\n  useEffect(() => {\n    const checkForActiveOrders = async () => {\n      try {\n        const tableData = await getTableByQRCode(qrCode);\n        if (tableData) {\n          const ordersResponse = await getOrdersByTable(tableData.table_number);\n          const orders = ordersResponse || [];\n          const activeOrders = orders.filter(order => \n            order.status !== 'completed' && order.status !== 'cancelled'\n          );\n          \n          if (activeOrders.length > 0) {\n            const firstActiveOrder = activeOrders[0];\n            const redirectUrl = `/dashboard?table=${tableData.table_number}&orderId=${firstActiveOrder.id}&orderNumber=${firstActiveOrder.order_number}`;\n            toast.success(`Welcome back! Redirecting to your active order...`);\n            navigate(redirectUrl, { replace: true });\n          }\n        }\n      } catch (error) {\n        console.error('Error in automatic redirect check:', error);\n      }\n    };\n    \n    // Small delay to ensure component is fully loaded\n    const timer = setTimeout(checkForActiveOrders, 500);\n    return () => clearTimeout(timer);\n  }, [qrCode, navigate]);\n\n  useEffect(() => {\n    // Prevent multiple redirects\n    if (hasRedirected.current) {\n      return;\n    }\n\n    const loadData = async () => {\n      try {\n        setLoading(true);\n\n        // Get table information from QR code\n        const tableData = await getTableByQRCode(qrCode);\n        \n        if (!tableData) {\n          toast.error('Invalid QR code');\n          navigate('/');\n          return;\n        }\n        setTableInfo(tableData);\n\n        // Check for active orders for this table\n        try {\n          const ordersResponse = await getOrdersByTable(tableData.table_number);\n          const orders = ordersResponse.data || [];\n          \n          // Filter for active orders (not completed or cancelled)\n          const activeOrders = orders.filter(order => \n            order.status !== 'completed' && order.status !== 'cancelled'\n          );\n          \n          if (activeOrders.length > 0) {\n            // Set redirecting state to prevent menu rendering\n            setIsRedirecting(true);\n            hasRedirected.current = true;\n            \n            // Get the first active order for customer details\n            const firstActiveOrder = activeOrders[0];\n            \n            // Store table info for tracking page\n            localStorage.setItem('currentTable', JSON.stringify(tableData));\n            \n            // Store customer information from the active order\n            localStorage.setItem(`customer_${tableData.table_number}`, JSON.stringify({\n              name: firstActiveOrder.customer_name,\n              orderId: firstActiveOrder.id,\n              orderNumber: firstActiveOrder.order_number\n            }));\n            \n            // Build redirect URL\n            const redirectUrl = `/dashboard?table=${tableData.table_number}&customerName=${encodeURIComponent(firstActiveOrder.customer_name)}&orderId=${firstActiveOrder.id}&orderNumber=${firstActiveOrder.order_number}`;\n            \n            // Show toast and redirect immediately\n            toast.success('You have an active order! Redirecting to tracking page...');\n            \n            // Redirect immediately\n            navigate(redirectUrl, { replace: true });\n            \n            return; // Exit early - don't load menu data\n          }\n        } catch (error) {\n          console.error('Error checking orders:', error);\n          // Continue to menu page if there's an error checking orders\n        }\n\n        // Only load menu data if no active orders found\n        const menuData = await fetchMenuItems();\n        setMenuItems(menuData);\n\n        const categoriesData = await fetchMenuCategories();\n        setCategories(categoriesData);\n\n      } catch (error) {\n        console.error('Error loading data:', error);\n        toast.error('Failed to load menu. Please try again.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadData();\n  }, []); // Temporarily remove dependencies to test\n\n  // Load cart from localStorage on component mount\n  useEffect(() => {\n    const savedCart = localStorage.getItem(`cart_${qrCode}`);\n\n    if (savedCart) {\n      try {\n        const parsedCart = JSON.parse(savedCart);\n        \n        if (Array.isArray(parsedCart) && parsedCart.length > 0) {\n          setCart(parsedCart);\n        } else {\n          setCart([]);\n        }\n      } catch (error) {\n        console.error('Error parsing cart data:', error);\n        setCart([]);\n      }\n    } else {\n      setCart([]);\n    }\n    \n    setCartInitialized(true);\n  }, [qrCode]);\n\n  // Save cart to localStorage whenever it changes\n  useEffect(() => {\n    if (!cartInitialized) {\n      return;\n    }\n\n    if (cart.length > 0) {\n      try {\n        const cartData = JSON.stringify(cart);\n        localStorage.setItem(`cart_${qrCode}`, cartData);\n      } catch (error) {\n        console.error('Error saving cart to localStorage:', error);\n      }\n    } else {\n      const existingCart = localStorage.getItem(`cart_${qrCode}`);\n      if (existingCart) {\n        try {\n          localStorage.removeItem(`cart_${qrCode}`);\n        } catch (error) {\n          console.error('Error removing cart from localStorage:', error);\n        }\n      }\n    }\n  }, [cart, qrCode, cartInitialized]);\n\n  // Socket connection and order deletion listener\n  useEffect(() => {\n    // Connect to socket service\n    socketService.connect();\n    \n    // Join table room for order notifications\n    if (tableInfo?.table_number) {\n      socketService.joinTable(tableInfo.table_number);\n    }\n\n    // Listen for order deletion events\n    const handleOrderDeleted = (data) => {\n      console.log('🗑️ Order deleted event received:', data);\n      \n      // Check if this deletion affects our table\n      if (data.tableNumber && tableInfo?.table_number && \n          data.tableNumber.toString() === tableInfo.table_number.toString()) {\n        \n        console.log('🗑️ Clearing cart for deleted order on table', tableInfo.table_number);\n        \n        // Clear cart state\n        setCart([]);\n        \n        // Use the cart utility function for comprehensive clearing\n        const success = clearCartData(qrCode, tableInfo.table_number);\n        \n        if (success) {\n          console.log('✅ Cart data cleared successfully');\n          toast.success('Previous order has been cancelled. Your cart has been cleared.');\n        } else {\n          console.error('❌ Failed to clear cart data');\n        }\n      }\n    };\n\n    socketService.onOrderDeleted(handleOrderDeleted);\n\n    // Cleanup function\n    return () => {\n      socketService.removeListener('order-deleted');\n    };\n  }, [tableInfo, qrCode]);\n\n  const addToCart = (item) => {\n    setCart(prevCart => {\n      const existingItem = prevCart.find(cartItem => cartItem.menu_item_id === item.id);\n      \n      let newCart;\n      if (existingItem) {\n        newCart = prevCart.map(cartItem =>\n          cartItem.menu_item_id === item.id\n            ? { ...cartItem, quantity: cartItem.quantity + 1 }\n            : cartItem\n        );\n      } else {\n        newCart = [...prevCart, { \n          menu_item_id: item.id, \n          quantity: 1, \n          name: item.name,\n          price: item.price,\n          special_requests: ''\n        }];\n      }\n      \n      // Immediately save to localStorage\n      try {\n        const cartData = JSON.stringify(newCart);\n        localStorage.setItem(`cart_${qrCode}`, cartData);\n      } catch (error) {\n        console.error('Error saving cart immediately:', error);\n      }\n      \n      return newCart;\n    });\n    toast.success(`${item.name} added to cart!`);\n  };\n\n  const handleViewCart = () => {\n    navigate(`/qr/${qrCode}/cart`);\n  };\n\n  const filteredMenuItems = selectedCategory === 'all'\n    ? menuItems\n    : menuItems.filter(item => {\n        // Handle both string categories and category objects\n        const itemCategory = item.category_name || item.category;\n        const selectedCat = typeof selectedCategory === 'object' ? selectedCategory.name : selectedCategory;\n        return itemCategory === selectedCat;\n      });\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-sangeet-neutral-950 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"spinner mx-auto mb-4\"></div>\n          <p className=\"text-sangeet-400\">Loading menu...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-sangeet-neutral-950\">\n      {/* Professional Header - Fixed Sticky Navigation */}\n      <header className=\"fixed top-0 left-0 right-0 bg-gradient-to-r from-sangeet-neutral-900 to-sangeet-neutral-800 border-b border-sangeet-neutral-700 p-4 z-50 shadow-lg\">\n        <div className=\"max-w-4xl mx-auto\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-10 h-10 bg-sangeet-400 rounded-full flex items-center justify-center\">\n                <span className=\"text-sangeet-neutral-950 font-bold text-lg\">🍽️</span>\n              </div>\n              <div>\n                <h1 className=\"text-xl font-bold text-sangeet-400\">Sangeet Restaurant</h1>\n                <p className=\"text-sangeet-neutral-400 text-sm\">\n                  Table {tableInfo?.table_number} • Digital Menu\n                </p>\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"text-right\">\n                <div className=\"text-sangeet-400 font-bold text-lg\">\n                  ${cart.reduce((total, item) => total + (parseFloat(item.price) * item.quantity), 0).toFixed(2)}\n                </div>\n                <div className=\"text-sangeet-neutral-400 text-sm\">\n                  {cart.length} item{cart.length !== 1 ? 's' : ''} in cart\n                </div>\n              </div>\n              <button\n                onClick={handleViewCart}\n                disabled={cart.length === 0}\n                className=\"bg-sangeet-400 text-sangeet-neutral-950 px-4 py-2 rounded-lg font-semibold hover:bg-sangeet-300 transition-colors disabled:opacity-50 shadow-lg hover:shadow-xl flex items-center space-x-2\"\n              >\n                <span>🛒</span>\n                <span>View Cart</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content with Top Padding for Fixed Header */}\n      <div className=\"max-w-4xl mx-auto p-4 pt-24\">\n        \n        {/* Category Filter - Enhanced */}\n        <div className=\"mb-6\">\n          <h3 className=\"text-lg font-semibold text-sangeet-400 mb-3 flex items-center\">\n            <span className=\"mr-2\">📋</span>\n            Menu Categories\n          </h3>\n          <div className=\"flex flex-wrap gap-2\">\n            <button\n              onClick={() => setSelectedCategory('all')}\n              className={`px-4 py-2 rounded-full text-sm font-medium transition-all ${\n                selectedCategory === 'all'\n                  ? 'bg-sangeet-400 text-sangeet-neutral-950 shadow-lg'\n                  : 'bg-sangeet-neutral-800 text-sangeet-neutral-400 hover:bg-sangeet-neutral-700'\n              }`}\n            >\n              All Items\n            </button>\n            {categories.map((category) => (\n              <button\n                key={category.id || category.name}\n                onClick={() => setSelectedCategory(category.name || category)}\n                className={`px-4 py-2 rounded-full text-sm font-medium transition-all ${\n                  selectedCategory === (category.name || category)\n                    ? 'bg-sangeet-400 text-sangeet-neutral-950 shadow-lg'\n                    : 'bg-sangeet-neutral-800 text-sangeet-neutral-400 hover:bg-sangeet-neutral-700'\n                }`}\n              >\n                {category.name || category}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Menu Items - Enhanced Grid with Consistent Layout */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mb-6\">\n          {filteredMenuItems.map((item) => (\n            <motion.div\n              key={item.id}\n              whileHover={{ scale: 1.02 }}\n              className=\"bg-gradient-to-br from-sangeet-neutral-900 to-sangeet-neutral-800 rounded-xl overflow-hidden border border-sangeet-neutral-700 hover:border-sangeet-neutral-600 transition-all flex flex-col h-full\"\n            >\n              {/* Image Section - Fixed Height */}\n              <div className=\"h-48 md:h-52 overflow-hidden\">\n                <img\n                  src={item.image_url}\n                  alt={item.name}\n                  className=\"w-full h-full object-cover\"\n                />\n              </div>\n              \n              {/* Content Section - Flex Column with Space Between */}\n              <div className=\"p-4 md:p-5 flex flex-col flex-grow\">\n                {/* Header with Name and Price */}\n                <div className=\"flex justify-between items-start mb-2\">\n                  <h3 className=\"text-base md:text-lg font-semibold text-sangeet-400 flex-1 mr-2\">{item.name}</h3>\n                  <span className=\"text-sangeet-400 font-bold text-lg whitespace-nowrap\">${item.price}</span>\n                </div>\n                \n                {/* Description - Fixed Height */}\n                <p className=\"text-sm text-sangeet-neutral-400 mb-3 line-clamp-2 min-h-[2.5rem]\">{item.description}</p>\n                \n                {/* Tags Section - Fixed Height */}\n                <div className=\"flex flex-wrap gap-1 mb-4 min-h-[1.5rem]\">\n                  {item.is_vegetarian && (\n                    <span className=\"px-2 py-1 bg-green-600 text-white text-xs rounded-full\">🌱 Veg</span>\n                  )}\n                  {item.is_spicy && (\n                    <span className=\"px-2 py-1 bg-red-600 text-white text-xs rounded-full\">🔥 Spicy</span>\n                  )}\n                  {item.is_popular && (\n                    <span className=\"px-2 py-1 bg-yellow-600 text-white text-xs rounded-full\">⭐ Popular</span>\n                  )}\n                </div>\n                \n                {/* Button Section - Always at Bottom */}\n                <div className=\"mt-auto\">\n                  <button\n                    onClick={() => addToCart(item)}\n                    className=\"w-full bg-sangeet-400 text-sangeet-neutral-950 py-2 md:py-3 rounded-lg font-semibold hover:bg-sangeet-300 transition-colors shadow-lg hover:shadow-xl text-sm md:text-base\"\n                  >\n                    Add to Cart\n                  </button>\n                </div>\n              </div>\n            </motion.div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default QRMenuPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}