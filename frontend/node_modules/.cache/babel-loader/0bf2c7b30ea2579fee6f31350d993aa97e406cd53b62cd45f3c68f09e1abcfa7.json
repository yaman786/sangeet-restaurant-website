{"ast":null,"code":"import _objectSpread from\"/Users/amanrana/Desktop/sangeet_restaurant_website/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useMemo}from'react';import{motion}from'framer-motion';import{QrCode,Plus,Download,Trash2,BarChart3,Smartphone,RefreshCw,Search,Filter,ArrowUpDown,ArrowUp,ArrowDown}from'lucide-react';import toast from'react-hot-toast';import AdminHeader from'../components/AdminHeader';import CustomDropdown from'../components/CustomDropdown';import{getAllQRCodes,generateTableQRCode,bulkGenerateTableQRCodes,getQRCodeAnalytics,deleteQRCode,downloadPrintableQRCode}from'../services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const QRManagementPage=()=>{const[qrCodes,setQrCodes]=useState({tableQRCodes:[]});const[loading,setLoading]=useState(true);const[showGenerateModal,setShowGenerateModal]=useState(false);const[showBulkModal,setShowBulkModal]=useState(false);const[showAnalyticsModal,setShowAnalyticsModal]=useState(false);const[selectedQRCode,setSelectedQRCode]=useState(null);const[analytics,setAnalytics]=useState(null);const[showDeleteModal,setShowDeleteModal]=useState(false);const[deleteTarget,setDeleteTarget]=useState(null);const[showDownloadModal,setShowDownloadModal]=useState(false);const[downloadTarget,setDownloadTarget]=useState(null);const[downloadOptions,setDownloadOptions]=useState({format:'png',design:'classic',theme:'modern'});const[formData,setFormData]=useState({tableNumber:'',customUrl:'',purpose:'',targetUrl:'',title:'',description:'',expiresAt:'',design:{darkColor:'#1d1b16',lightColor:'#ffffff',width:300,margin:2}});const[bulkFormData,setBulkFormData]=useState({tableNumbers:'',baseUrl:process.env.REACT_APP_CLIENT_URL||'http://localhost:3000',design:{darkColor:'#1d1b16',lightColor:'#ffffff',width:300,margin:2}});// Sorting and filtering state\nconst[sortConfig,setSortConfig]=useState({key:'table_number',direction:'asc'});const[searchTerm,setSearchTerm]=useState('');const[filterStatus,setFilterStatus]=useState('all');// all, active, inactive, with_orders, without_orders\n// Dropdown options\nconst filterOptions=[{value:'all',label:'All QR Codes'},{value:'active',label:'Active Only'},{value:'inactive',label:'Inactive Only'},{value:'with_orders',label:'With Active Orders'},{value:'without_orders',label:'Without Orders'}];const designOptions=[{value:'classic',label:'Classic (600px portrait)'},{value:'large',label:'Large (750px portrait)'},{value:'premium',label:'Premium (700px portrait)'}];const themeOptions=[{value:'modern',label:'Modern Blue'},{value:'elegant',label:'Elegant Purple'},{value:'premium',label:'Premium Green'},{value:'classic',label:'Classic Red'},{value:'gold',label:'Elegant Gold'}];const formatOptions=[{value:'png',label:'PNG (High Quality)'},{value:'jpeg',label:'JPEG (Smaller Size)'}];useEffect(()=>{loadQRCodes();},[]);// Sorting and filtering logic\nconst sortedAndFilteredQRCodes=useMemo(()=>{let filtered=qrCodes.tableQRCodes;// Apply search filter\nif(searchTerm){filtered=filtered.filter(qrCode=>{return qrCode.table_number.toString().includes(searchTerm);});}// Apply status filter\nif(filterStatus!=='all'){filtered=filtered.filter(qrCode=>{switch(filterStatus){case'active':return qrCode.is_active===true;case'inactive':return qrCode.is_active===false;case'with_orders':return(qrCode.active_orders||0)>0;case'without_orders':return(qrCode.active_orders||0)===0;default:return true;}});}// Apply sorting\nfiltered.sort((a,b)=>{let aValue,bValue;if(sortConfig.key==='table_number'){aValue=parseInt(a.table_number);bValue=parseInt(b.table_number);}else if(sortConfig.key==='active_orders'){aValue=a.active_orders||0;bValue=b.active_orders||0;}else if(sortConfig.key==='total_orders'){aValue=a.total_orders||0;bValue=b.total_orders||0;}else if(sortConfig.key==='created_at'){aValue=new Date(a.created_at);bValue=new Date(b.created_at);}else{aValue=a[sortConfig.key];bValue=b[sortConfig.key];}if(aValue<bValue){return sortConfig.direction==='asc'?-1:1;}if(aValue>bValue){return sortConfig.direction==='asc'?1:-1;}return 0;});return filtered;},[qrCodes,searchTerm,filterStatus,sortConfig]);const handleSort=key=>{setSortConfig(prev=>({key,direction:prev.key===key&&prev.direction==='asc'?'desc':'asc'}));};const getSortIcon=key=>{if(sortConfig.key!==key)return/*#__PURE__*/_jsx(ArrowUpDown,{className:\"h-4 w-4\"});return sortConfig.direction==='asc'?/*#__PURE__*/_jsx(ArrowUp,{className:\"h-4 w-4\"}):/*#__PURE__*/_jsx(ArrowDown,{className:\"h-4 w-4\"});};const loadQRCodes=async()=>{try{setLoading(true);const response=await getAllQRCodes();setQrCodes(response);}catch(error){console.error('Error loading QR codes:',error);toast.error('Failed to load QR codes');}finally{setLoading(false);}};const handleGenerateQR=async()=>{try{if(!formData.tableNumber){toast.error('Table number is required');return;}await generateTableQRCode(formData);toast.success('Table QR code generated successfully!');setShowGenerateModal(false);setFormData({tableNumber:'',customUrl:'',design:{darkColor:'#1d1b16',lightColor:'#ffffff',width:300,margin:2}});loadQRCodes();}catch(error){var _error$response,_error$response$data;console.error('Error generating QR code:',error);toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Failed to generate QR code');}};const handleBulkGenerate=async()=>{try{const tableNumbers=bulkFormData.tableNumbers.split(',').map(num=>num.trim()).filter(num=>num);if(tableNumbers.length===0){toast.error('Please enter table numbers');return;}const response=await bulkGenerateTableQRCodes({tableNumbers,baseUrl:bulkFormData.baseUrl,design:bulkFormData.design});if(response.summary.successful>0){toast.success(\"Generated \".concat(response.summary.successful,\" QR codes successfully!\"));}if(response.errors.length>0){toast.error(\"\".concat(response.errors.length,\" QR codes failed to generate\"));}setShowBulkModal(false);setBulkFormData({tableNumbers:'',baseUrl:'http://localhost:3000',design:{darkColor:'#1d1b16',lightColor:'#ffffff',width:300,margin:2}});loadQRCodes();}catch(error){console.error('Error bulk generating QR codes:',error);toast.error('Failed to bulk generate QR codes');}};const handleViewAnalytics=async qrCode=>{try{setSelectedQRCode(qrCode);const analyticsData=await getQRCodeAnalytics(qrCode.id);setAnalytics(analyticsData);setShowAnalyticsModal(true);}catch(error){console.error('Error fetching analytics:',error);toast.error('Failed to load analytics');}};const handleDeleteQR=async qrCode=>{setDeleteTarget({qrCode});setShowDeleteModal(true);};const confirmDelete=async()=>{if(!deleteTarget)return;try{await deleteQRCode(deleteTarget.qrCode.id);toast.success('QR code deleted successfully!');loadQRCodes();setShowDeleteModal(false);setDeleteTarget(null);}catch(error){var _error$response2,_error$response2$data;console.error('Error deleting QR code:',error);const errorMessage=((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||'Failed to delete QR code';if(errorMessage.includes('existing orders')){toast.error('Cannot delete QR code: Table has existing orders. Please complete or delete the orders first.');}else{toast.error(errorMessage);}}};const handleDownloadQR=async function(qrCode){let format=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'png';let design=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'classic';let theme=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'modern';try{console.log(\"\\uD83D\\uDD04 Starting download for QR code \".concat(qrCode.id,\" (Table \").concat(qrCode.table_number,\")\"));await downloadPrintableQRCode(qrCode.id,format,design,theme);console.log('âœ… Download completed successfully');}catch(error){console.error('âŒ Error downloading QR code:',error);toast.error(\"Failed to download QR code: \".concat(error.message));}};const getStatusColor=status=>{switch(status){case'active':return'text-green-400 bg-green-400/20 border border-green-400/30';case'expired':return'text-red-400 bg-red-400/20 border border-red-400/30';default:return'text-sangeet-neutral-400 bg-sangeet-neutral-800 border border-sangeet-neutral-700';}};const formatCurrency=amount=>{return new Intl.NumberFormat('en-US',{style:'currency',currency:'USD'}).format(amount||0);};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-sangeet-neutral-950 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"animate-spin h-8 w-8 text-sangeet-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sangeet-neutral-400\",children:\"Loading QR codes...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-sangeet-neutral-950\",children:[/*#__PURE__*/_jsx(AdminHeader,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 mb-6\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowBulkModal(true),className:\"inline-flex items-center px-4 py-2 border border-sangeet-neutral-600 rounded-md shadow-sm text-sm font-medium text-sangeet-neutral-300 bg-sangeet-neutral-800 hover:bg-sangeet-neutral-700 transition-colors\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4 mr-2\"}),\"Bulk Generate\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowGenerateModal(true),className:\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-sangeet-neutral-950 bg-sangeet-400 hover:bg-sangeet-500 transition-colors\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4 mr-2\"}),\"Generate QR Code\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-sangeet-neutral-100 mb-2\",children:\"Table QR Code Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sangeet-neutral-400\",children:\"Manage QR codes for table ordering system\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-sangeet-neutral-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by table number...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full pl-10 pr-4 py-2 bg-sangeet-neutral-800 border border-sangeet-neutral-600 rounded-md text-sangeet-neutral-100 placeholder-sangeet-neutral-400 focus:outline-none focus:ring-2 focus:ring-sangeet-400 focus:border-transparent\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"relative\",children:/*#__PURE__*/_jsx(CustomDropdown,{value:filterStatus,onChange:setFilterStatus,options:filterOptions,className:\"min-w-[200px]\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-sangeet-neutral-400\",children:\"Sort by:\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleSort('table_number'),className:\"flex items-center space-x-1 px-3 py-1 bg-sangeet-neutral-800 border border-sangeet-neutral-600 rounded-md text-sangeet-neutral-300 hover:bg-sangeet-neutral-700 transition-colors\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Table\"}),getSortIcon('table_number')]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleSort('active_orders'),className:\"flex items-center space-x-1 px-3 py-1 bg-sangeet-neutral-800 border border-sangeet-neutral-600 rounded-md text-sangeet-neutral-300 hover:bg-sangeet-neutral-700 transition-colors\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Orders\"}),getSortIcon('active_orders')]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleSort('created_at'),className:\"flex items-center space-x-1 px-3 py-1 bg-sangeet-neutral-800 border border-sangeet-neutral-600 rounded-md text-sangeet-neutral-300 hover:bg-sangeet-neutral-700 transition-colors\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Created\"}),getSortIcon('created_at')]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm text-sangeet-neutral-400\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Showing \",sortedAndFilteredQRCodes.length,\" of \",qrCodes.tableQRCodes.length,\" QR codes\"]}),(searchTerm||filterStatus!=='all')&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSearchTerm('');setFilterStatus('all');},className:\"text-sangeet-400 hover:text-sangeet-300 transition-colors\",children:\"Clear filters\"})]})]}),sortedAndFilteredQRCodes.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(QrCode,{className:\"h-16 w-16 text-sangeet-neutral-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-sangeet-neutral-400 mb-2\",children:\"No QR codes found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sangeet-neutral-500\",children:searchTerm||filterStatus!=='all'?'Try adjusting your search or filter criteria':'No table QR codes available yet'})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:sortedAndFilteredQRCodes.map(qrCode=>/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"bg-sangeet-neutral-900 rounded-xl shadow-lg border border-sangeet-neutral-700 overflow-hidden hover:border-sangeet-400/50 transition-all duration-300\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Smartphone,{className:\"h-5 w-5 text-sangeet-400\"}),/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-sangeet-neutral-100\",children:[\"Table \",qrCode.table_number]}),(qrCode.active_orders||0)>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-1 text-xs bg-orange-400/20 text-orange-400 border border-orange-400/30 rounded-full\",children:[qrCode.active_orders,\" active orders\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewAnalytics(qrCode),className:\"p-1 text-sangeet-neutral-400 hover:text-sangeet-400 transition-colors\",title:\"View Analytics\",children:/*#__PURE__*/_jsx(BarChart3,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setDownloadTarget(qrCode);setShowDownloadModal(true);},className:\"p-1 text-sangeet-neutral-400 hover:text-green-400 transition-colors\",title:\"Download Beautiful QR Code\",children:/*#__PURE__*/_jsx(Download,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteQR(qrCode),className:\"p-1 transition-colors \".concat((qrCode.active_orders||0)>0?'text-red-400/50 cursor-not-allowed':'text-sangeet-neutral-400 hover:text-red-400'),title:(qrCode.active_orders||0)>0?\"Cannot delete: \".concat(qrCode.active_orders,\" active orders\"):'Delete QR code',disabled:(qrCode.active_orders||0)>0,children:/*#__PURE__*/_jsx(Trash2,{className:\"h-4 w-4\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-sangeet-neutral-800 rounded-lg p-4 mb-4 flex justify-center\",children:/*#__PURE__*/_jsx(\"img\",{src:qrCode.qr_code_data,alt:\"QR Code for Table \".concat(qrCode.table_number),className:\"w-32 h-32\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sangeet-neutral-400\",children:\"Total Orders\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-sangeet-neutral-100\",children:qrCode.total_orders||0})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sangeet-neutral-400\",children:\"Revenue\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-sangeet-neutral-100\",children:formatCurrency(qrCode.total_revenue)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sangeet-neutral-400\",children:\"Active Orders\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-sangeet-neutral-100\",children:qrCode.active_orders||0})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sangeet-neutral-400\",children:\"Last Order\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-xs text-sangeet-neutral-300\",children:qrCode.last_order_date?formatDate(qrCode.last_order_date):'Never'})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 pt-4 border-t border-sangeet-neutral-700\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-sangeet-neutral-500 truncate\",children:qrCode.qr_code_url})})]})},qrCode.id))})]}),showGenerateModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border border-sangeet-neutral-700 w-96 shadow-xl rounded-xl bg-sangeet-neutral-900\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-sangeet-neutral-100 mb-4\",children:\"Generate Table QR Code\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-sangeet-neutral-300 mb-1\",children:\"Table Number *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.tableNumber,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{tableNumber:e.target.value})),className:\"w-full px-3 py-2 border border-sangeet-neutral-600 rounded-md focus:outline-none focus:ring-2 focus:ring-sangeet-400 bg-sangeet-neutral-800 text-sangeet-neutral-100 placeholder-sangeet-neutral-500\",placeholder:\"e.g., 1, 2, 3\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-sangeet-neutral-300 mb-1\",children:\"Custom URL (Optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",value:formData.customUrl,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{customUrl:e.target.value})),className:\"w-full px-3 py-2 border border-sangeet-neutral-600 rounded-md focus:outline-none focus:ring-2 focus:ring-sangeet-400 bg-sangeet-neutral-800 text-sangeet-neutral-100 placeholder-sangeet-neutral-500\",placeholder:\"https://your-restaurant.com/qr/table-1\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-sangeet-neutral-500 mt-1\",children:[\"Leave empty to use default: \",process.env.REACT_APP_CLIENT_URL||'http://localhost:3000',\"/qr/table-[number]\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowGenerateModal(false),className:\"px-4 py-2 text-sm font-medium text-sangeet-neutral-300 bg-sangeet-neutral-800 hover:bg-sangeet-neutral-700 rounded-md transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleGenerateQR(),className:\"px-4 py-2 text-sm font-medium text-sangeet-neutral-950 bg-sangeet-400 hover:bg-sangeet-500 rounded-md transition-colors\",children:\"Generate QR Code\"})]})]})})}),showBulkModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border border-sangeet-neutral-700 w-96 shadow-xl rounded-xl bg-sangeet-neutral-900\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-sangeet-neutral-100 mb-4\",children:\"Bulk Generate Table QR Codes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-sangeet-neutral-300 mb-1\",children:\"Table Numbers *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:bulkFormData.tableNumbers,onChange:e=>setBulkFormData(_objectSpread(_objectSpread({},bulkFormData),{},{tableNumbers:e.target.value})),className:\"w-full px-3 py-2 border border-sangeet-neutral-600 rounded-md focus:outline-none focus:ring-2 focus:ring-sangeet-400 bg-sangeet-neutral-800 text-sangeet-neutral-100 placeholder-sangeet-neutral-500\",placeholder:\"e.g., 1,2,3,4,5 or 1-10\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-sangeet-neutral-500 mt-1\",children:\"Enter table numbers separated by commas\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-sangeet-neutral-300 mb-1\",children:\"Base URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",value:bulkFormData.baseUrl,onChange:e=>setBulkFormData(_objectSpread(_objectSpread({},bulkFormData),{},{baseUrl:e.target.value})),className:\"w-full px-3 py-2 border border-sangeet-neutral-600 rounded-md focus:outline-none focus:ring-2 focus:ring-sangeet-400 bg-sangeet-neutral-800 text-sangeet-neutral-100 placeholder-sangeet-neutral-500\",placeholder:\"https://your-restaurant.com\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-sangeet-neutral-500 mt-1\",children:\"This will be used as the base for all QR code URLs. For production, use your actual domain.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowBulkModal(false),className:\"px-4 py-2 text-sm font-medium text-sangeet-neutral-300 bg-sangeet-neutral-800 hover:bg-sangeet-neutral-700 rounded-md transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleBulkGenerate,className:\"px-4 py-2 text-sm font-medium text-sangeet-neutral-950 bg-sangeet-400 hover:bg-sangeet-500 rounded-md transition-colors\",children:\"Generate QR Codes\"})]})]})})}),showAnalyticsModal&&selectedQRCode&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border border-sangeet-neutral-700 w-96 shadow-xl rounded-xl bg-sangeet-neutral-900\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-sangeet-neutral-100 mb-4\",children:\"QR Code Analytics\"}),analytics?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:selectedQRCode.type==='table'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-sangeet-400/20 p-4 rounded-lg border border-sangeet-400/30\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-sangeet-400 font-medium\",children:\"Total Orders\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-sangeet-neutral-100\",children:analytics.total_orders||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-400/20 p-4 rounded-lg border border-green-400/30\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-400 font-medium\",children:\"Revenue\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-sangeet-neutral-100\",children:formatCurrency(analytics.total_revenue)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-400/20 p-4 rounded-lg border border-yellow-400/30\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-400 font-medium\",children:\"Completed\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-sangeet-neutral-100\",children:analytics.completed_orders||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-400/20 p-4 rounded-lg border border-red-400/30\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-400 font-medium\",children:\"Cancelled\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-sangeet-neutral-100\",children:analytics.cancelled_orders||0})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sangeet-neutral-400\",children:\"Average Order Value:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-sangeet-neutral-100\",children:formatCurrency(analytics.avg_order_value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sangeet-neutral-400\",children:\"Active Days:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-sangeet-neutral-100\",children:analytics.active_days||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sangeet-neutral-400\",children:\"First Order:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-xs text-sangeet-neutral-300\",children:analytics.first_order?formatDate(analytics.first_order):'Never'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sangeet-neutral-400\",children:\"Last Order:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-xs text-sangeet-neutral-300\",children:analytics.last_order?formatDate(analytics.last_order):'Never'})]})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-sangeet-neutral-400\",children:\"Purpose\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-sangeet-neutral-100\",children:analytics.purpose})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-sangeet-neutral-400\",children:\"Status\"}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium \".concat(getStatusColor(analytics.status)),children:analytics.status})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-sangeet-neutral-400\",children:\"Created\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-xs text-sangeet-neutral-300\",children:formatDate(analytics.created_at)})]}),analytics.expires_at&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-sangeet-neutral-400\",children:\"Expires\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-xs text-sangeet-neutral-300\",children:formatDate(analytics.expires_at)})]})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"h-12 w-12 text-sangeet-neutral-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sangeet-neutral-400\",children:\"No analytics data available\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAnalyticsModal(false),className:\"px-4 py-2 text-sm font-medium text-sangeet-neutral-300 bg-sangeet-neutral-800 hover:bg-sangeet-neutral-700 rounded-md transition-colors\",children:\"Close\"})})]})})}),showDownloadModal&&downloadTarget&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border border-sangeet-neutral-700 w-96 shadow-xl rounded-xl bg-sangeet-neutral-900\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-green-400/20 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Download,{className:\"h-6 w-6 text-green-400\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-sangeet-neutral-100\",children:\"Download Beautiful QR Code\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-sangeet-neutral-400\",children:[\"Table \",downloadTarget.table_number]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-sangeet-neutral-300 mb-2\",children:\"Design Style\"}),/*#__PURE__*/_jsx(CustomDropdown,{value:downloadOptions.design,onChange:design=>setDownloadOptions(_objectSpread(_objectSpread({},downloadOptions),{},{design})),options:designOptions,className:\"w-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-sangeet-neutral-300 mb-2\",children:\"Color Theme\"}),/*#__PURE__*/_jsx(CustomDropdown,{value:downloadOptions.theme,onChange:theme=>setDownloadOptions(_objectSpread(_objectSpread({},downloadOptions),{},{theme})),options:themeOptions,className:\"w-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-sangeet-neutral-300 mb-2\",children:\"Format\"}),/*#__PURE__*/_jsx(CustomDropdown,{value:downloadOptions.format,onChange:format=>setDownloadOptions(_objectSpread(_objectSpread({},downloadOptions),{},{format})),options:formatOptions,className:\"w-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-sangeet-neutral-800 rounded-lg p-3 border border-sangeet-neutral-700\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-sangeet-neutral-400 mb-2\",children:\"Preview:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-sangeet-neutral-300\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 Sangeet logo and branding\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 Table number prominently displayed\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 Beautiful border and corner decorations\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 High-resolution QR code\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 \\\"Scan to Order\\\" instruction\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 Professional digital menu design\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 Premium gradients and shadows\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 Multiple color themes available\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 Enhanced typography and spacing\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowDownloadModal(false);setDownloadTarget(null);},className:\"px-4 py-2 text-sm font-medium text-sangeet-neutral-300 bg-sangeet-neutral-800 hover:bg-sangeet-neutral-700 rounded-md transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{handleDownloadQR(downloadTarget,downloadOptions.format,downloadOptions.design,downloadOptions.theme);setShowDownloadModal(false);setDownloadTarget(null);},className:\"px-4 py-2 text-sm font-medium text-white bg-green-500 hover:bg-green-600 rounded-md transition-colors\",children:\"Download Beautiful QR\"})]})]})})}),showDeleteModal&&deleteTarget&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border border-sangeet-neutral-700 w-96 shadow-xl rounded-xl bg-sangeet-neutral-900\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-red-400/20 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Trash2,{className:\"h-6 w-6 text-red-400\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-sangeet-neutral-100\",children:\"Delete QR Code\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-sangeet-neutral-400\",children:\"This action cannot be undone\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sangeet-neutral-300 mb-2\",children:\"Are you sure you want to delete this table QR code?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-sangeet-neutral-800 rounded-lg p-3 border border-sangeet-neutral-700\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-medium text-sangeet-neutral-100\",children:[\"Table \",deleteTarget.qrCode.table_number]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-sangeet-neutral-500 mt-1\",children:deleteTarget.qrCode.qr_code_url})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowDeleteModal(false);setDeleteTarget(null);},className:\"px-4 py-2 text-sm font-medium text-sangeet-neutral-300 bg-sangeet-neutral-800 hover:bg-sangeet-neutral-700 rounded-md transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:confirmDelete,className:\"px-4 py-2 text-sm font-medium text-white bg-red-500 hover:bg-red-600 rounded-md transition-colors\",children:\"Delete QR Code\"})]})]})})})]});};export default QRManagementPage;","map":{"version":3,"names":["React","useState","useEffect","useMemo","motion","QrCode","Plus","Download","Trash2","BarChart3","Smartphone","RefreshCw","Search","Filter","ArrowUpDown","ArrowUp","ArrowDown","toast","AdminHeader","CustomDropdown","getAllQRCodes","generateTableQRCode","bulkGenerateTableQRCodes","getQRCodeAnalytics","deleteQRCode","downloadPrintableQRCode","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","QRManagementPage","qrCodes","setQrCodes","tableQRCodes","loading","setLoading","showGenerateModal","setShowGenerateModal","showBulkModal","setShowBulkModal","showAnalyticsModal","setShowAnalyticsModal","selectedQRCode","setSelectedQRCode","analytics","setAnalytics","showDeleteModal","setShowDeleteModal","deleteTarget","setDeleteTarget","showDownloadModal","setShowDownloadModal","downloadTarget","setDownloadTarget","downloadOptions","setDownloadOptions","format","design","theme","formData","setFormData","tableNumber","customUrl","purpose","targetUrl","title","description","expiresAt","darkColor","lightColor","width","margin","bulkFormData","setBulkFormData","tableNumbers","baseUrl","process","env","REACT_APP_CLIENT_URL","sortConfig","setSortConfig","key","direction","searchTerm","setSearchTerm","filterStatus","setFilterStatus","filterOptions","value","label","designOptions","themeOptions","formatOptions","loadQRCodes","sortedAndFilteredQRCodes","filtered","filter","qrCode","table_number","toString","includes","is_active","active_orders","sort","a","b","aValue","bValue","parseInt","total_orders","Date","created_at","handleSort","prev","getSortIcon","className","response","error","console","handleGenerateQR","success","_error$response","_error$response$data","data","handleBulkGenerate","split","map","num","trim","length","summary","successful","concat","errors","handleViewAnalytics","analyticsData","id","handleDeleteQR","confirmDelete","_error$response2","_error$response2$data","errorMessage","handleDownloadQR","arguments","undefined","log","message","getStatusColor","status","formatCurrency","amount","Intl","NumberFormat","style","currency","formatDate","dateString","toLocaleDateString","year","month","day","hour","minute","children","onClick","type","placeholder","onChange","e","target","options","div","initial","opacity","y","animate","disabled","src","qr_code_data","alt","total_revenue","last_order_date","qr_code_url","_objectSpread","completed_orders","cancelled_orders","avg_order_value","active_days","first_order","last_order","expires_at"],"sources":["/Users/amanrana/Desktop/sangeet_restaurant_website/frontend/src/pages/QRManagementPage.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport { motion } from 'framer-motion';\nimport { \n  QrCode, \n  Plus, \n  Download, \n  Trash2, \n  BarChart3, \n  Smartphone,\n  RefreshCw,\n  Search,\n  Filter,\n  ArrowUpDown,\n  ArrowUp,\n  ArrowDown\n} from 'lucide-react';\nimport toast from 'react-hot-toast';\nimport AdminHeader from '../components/AdminHeader';\nimport CustomDropdown from '../components/CustomDropdown';\nimport {\n  getAllQRCodes,\n  generateTableQRCode,\n  bulkGenerateTableQRCodes,\n  getQRCodeAnalytics,\n  deleteQRCode,\n  downloadPrintableQRCode\n} from '../services/api';\n\nconst QRManagementPage = () => {\n  const [qrCodes, setQrCodes] = useState({ tableQRCodes: [] });\n  const [loading, setLoading] = useState(true);\n\n  const [showGenerateModal, setShowGenerateModal] = useState(false);\n  const [showBulkModal, setShowBulkModal] = useState(false);\n  const [showAnalyticsModal, setShowAnalyticsModal] = useState(false);\n  const [selectedQRCode, setSelectedQRCode] = useState(null);\n  const [analytics, setAnalytics] = useState(null);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [deleteTarget, setDeleteTarget] = useState(null);\n  const [showDownloadModal, setShowDownloadModal] = useState(false);\n  const [downloadTarget, setDownloadTarget] = useState(null);\n  const [downloadOptions, setDownloadOptions] = useState({\n    format: 'png',\n    design: 'classic',\n    theme: 'modern'\n  });\n  const [formData, setFormData] = useState({\n    tableNumber: '',\n    customUrl: '',\n    purpose: '',\n    targetUrl: '',\n    title: '',\n    description: '',\n    expiresAt: '',\n    design: {\n      darkColor: '#1d1b16',\n      lightColor: '#ffffff',\n      width: 300,\n      margin: 2\n    }\n  });\n  const [bulkFormData, setBulkFormData] = useState({\n    tableNumbers: '',\n    baseUrl: process.env.REACT_APP_CLIENT_URL || 'http://localhost:3000',\n    design: {\n      darkColor: '#1d1b16',\n      lightColor: '#ffffff',\n      width: 300,\n      margin: 2\n    }\n  });\n\n  // Sorting and filtering state\n  const [sortConfig, setSortConfig] = useState({\n    key: 'table_number',\n    direction: 'asc'\n  });\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterStatus, setFilterStatus] = useState('all'); // all, active, inactive, with_orders, without_orders\n\n  // Dropdown options\n  const filterOptions = [\n    { value: 'all', label: 'All QR Codes' },\n    { value: 'active', label: 'Active Only' },\n    { value: 'inactive', label: 'Inactive Only' },\n    { value: 'with_orders', label: 'With Active Orders' },\n    { value: 'without_orders', label: 'Without Orders' }\n  ];\n\n  const designOptions = [\n    { value: 'classic', label: 'Classic (600px portrait)' },\n    { value: 'large', label: 'Large (750px portrait)' },\n    { value: 'premium', label: 'Premium (700px portrait)' }\n  ];\n\n  const themeOptions = [\n    { value: 'modern', label: 'Modern Blue' },\n    { value: 'elegant', label: 'Elegant Purple' },\n    { value: 'premium', label: 'Premium Green' },\n    { value: 'classic', label: 'Classic Red' },\n    { value: 'gold', label: 'Elegant Gold' }\n  ];\n\n  const formatOptions = [\n    { value: 'png', label: 'PNG (High Quality)' },\n    { value: 'jpeg', label: 'JPEG (Smaller Size)' }\n  ];\n\n  useEffect(() => {\n    loadQRCodes();\n  }, []);\n\n  // Sorting and filtering logic\n  const sortedAndFilteredQRCodes = useMemo(() => {\n    let filtered = qrCodes.tableQRCodes;\n\n    // Apply search filter\n    if (searchTerm) {\n      filtered = filtered.filter(qrCode => {\n        return qrCode.table_number.toString().includes(searchTerm);\n      });\n    }\n\n    // Apply status filter\n    if (filterStatus !== 'all') {\n      filtered = filtered.filter(qrCode => {\n        switch (filterStatus) {\n          case 'active':\n            return qrCode.is_active === true;\n          case 'inactive':\n            return qrCode.is_active === false;\n          case 'with_orders':\n            return (qrCode.active_orders || 0) > 0;\n          case 'without_orders':\n            return (qrCode.active_orders || 0) === 0;\n          default:\n            return true;\n        }\n      });\n    }\n\n    // Apply sorting\n    filtered.sort((a, b) => {\n      let aValue, bValue;\n      \n      if (sortConfig.key === 'table_number') {\n        aValue = parseInt(a.table_number);\n        bValue = parseInt(b.table_number);\n      } else if (sortConfig.key === 'active_orders') {\n        aValue = a.active_orders || 0;\n        bValue = b.active_orders || 0;\n      } else if (sortConfig.key === 'total_orders') {\n        aValue = a.total_orders || 0;\n        bValue = b.total_orders || 0;\n      } else if (sortConfig.key === 'created_at') {\n        aValue = new Date(a.created_at);\n        bValue = new Date(b.created_at);\n      } else {\n        aValue = a[sortConfig.key];\n        bValue = b[sortConfig.key];\n      }\n\n      if (aValue < bValue) {\n        return sortConfig.direction === 'asc' ? -1 : 1;\n      }\n      if (aValue > bValue) {\n        return sortConfig.direction === 'asc' ? 1 : -1;\n      }\n      return 0;\n    });\n\n    return filtered;\n  }, [qrCodes, searchTerm, filterStatus, sortConfig]);\n\n  const handleSort = (key) => {\n    setSortConfig(prev => ({\n      key,\n      direction: prev.key === key && prev.direction === 'asc' ? 'desc' : 'asc'\n    }));\n  };\n\n  const getSortIcon = (key) => {\n    if (sortConfig.key !== key) return <ArrowUpDown className=\"h-4 w-4\" />;\n    return sortConfig.direction === 'asc' ? <ArrowUp className=\"h-4 w-4\" /> : <ArrowDown className=\"h-4 w-4\" />;\n  };\n\n  const loadQRCodes = async () => {\n    try {\n      setLoading(true);\n      const response = await getAllQRCodes();\n      setQrCodes(response);\n    } catch (error) {\n      console.error('Error loading QR codes:', error);\n      toast.error('Failed to load QR codes');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleGenerateQR = async () => {\n    try {\n      if (!formData.tableNumber) {\n        toast.error('Table number is required');\n        return;\n      }\n      \n      await generateTableQRCode(formData);\n      toast.success('Table QR code generated successfully!');\n      \n      setShowGenerateModal(false);\n      setFormData({\n        tableNumber: '',\n        customUrl: '',\n        design: {\n          darkColor: '#1d1b16',\n          lightColor: '#ffffff',\n          width: 300,\n          margin: 2\n        }\n      });\n      loadQRCodes();\n    } catch (error) {\n      console.error('Error generating QR code:', error);\n      toast.error(error.response?.data?.error || 'Failed to generate QR code');\n    }\n  };\n\n  const handleBulkGenerate = async () => {\n    try {\n      const tableNumbers = bulkFormData.tableNumbers\n        .split(',')\n        .map(num => num.trim())\n        .filter(num => num);\n\n      if (tableNumbers.length === 0) {\n        toast.error('Please enter table numbers');\n        return;\n      }\n\n      const response = await bulkGenerateTableQRCodes({\n        tableNumbers,\n        baseUrl: bulkFormData.baseUrl,\n        design: bulkFormData.design\n      });\n\n      if (response.summary.successful > 0) {\n        toast.success(`Generated ${response.summary.successful} QR codes successfully!`);\n      }\n      if (response.errors.length > 0) {\n        toast.error(`${response.errors.length} QR codes failed to generate`);\n      }\n\n      setShowBulkModal(false);\n      setBulkFormData({\n        tableNumbers: '',\n        baseUrl: 'http://localhost:3000',\n        design: {\n          darkColor: '#1d1b16',\n          lightColor: '#ffffff',\n          width: 300,\n          margin: 2\n        }\n      });\n      loadQRCodes();\n    } catch (error) {\n      console.error('Error bulk generating QR codes:', error);\n      toast.error('Failed to bulk generate QR codes');\n    }\n  };\n\n  const handleViewAnalytics = async (qrCode) => {\n    try {\n      setSelectedQRCode(qrCode);\n      const analyticsData = await getQRCodeAnalytics(qrCode.id);\n      setAnalytics(analyticsData);\n      setShowAnalyticsModal(true);\n    } catch (error) {\n      console.error('Error fetching analytics:', error);\n      toast.error('Failed to load analytics');\n    }\n  };\n\n  const handleDeleteQR = async (qrCode) => {\n    setDeleteTarget({ qrCode });\n    setShowDeleteModal(true);\n  };\n\n  const confirmDelete = async () => {\n    if (!deleteTarget) return;\n\n    try {\n      await deleteQRCode(deleteTarget.qrCode.id);\n      toast.success('QR code deleted successfully!');\n      loadQRCodes();\n      setShowDeleteModal(false);\n      setDeleteTarget(null);\n    } catch (error) {\n      console.error('Error deleting QR code:', error);\n      const errorMessage = error.response?.data?.error || 'Failed to delete QR code';\n      \n      if (errorMessage.includes('existing orders')) {\n        toast.error('Cannot delete QR code: Table has existing orders. Please complete or delete the orders first.');\n      } else {\n        toast.error(errorMessage);\n      }\n    }\n  };\n\n  const handleDownloadQR = async (qrCode, format = 'png', design = 'classic', theme = 'modern') => {\n    try {\n      console.log(`ðŸ”„ Starting download for QR code ${qrCode.id} (Table ${qrCode.table_number})`);\n      await downloadPrintableQRCode(qrCode.id, format, design, theme);\n      console.log('âœ… Download completed successfully');\n    } catch (error) {\n      console.error('âŒ Error downloading QR code:', error);\n      toast.error(`Failed to download QR code: ${error.message}`);\n    }\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'active':\n        return 'text-green-400 bg-green-400/20 border border-green-400/30';\n      case 'expired':\n        return 'text-red-400 bg-red-400/20 border border-red-400/30';\n      default:\n        return 'text-sangeet-neutral-400 bg-sangeet-neutral-800 border border-sangeet-neutral-700';\n    }\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD'\n    }).format(amount || 0);\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-sangeet-neutral-950 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <RefreshCw className=\"animate-spin h-8 w-8 text-sangeet-400 mx-auto mb-4\" />\n          <p className=\"text-sangeet-neutral-400\">Loading QR codes...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-sangeet-neutral-950\">\n      <AdminHeader />\n      \n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Action Buttons */}\n        <div className=\"flex justify-end space-x-3 mb-6\">\n          <button\n            onClick={() => setShowBulkModal(true)}\n            className=\"inline-flex items-center px-4 py-2 border border-sangeet-neutral-600 rounded-md shadow-sm text-sm font-medium text-sangeet-neutral-300 bg-sangeet-neutral-800 hover:bg-sangeet-neutral-700 transition-colors\"\n          >\n            <Plus className=\"h-4 w-4 mr-2\" />\n            Bulk Generate\n          </button>\n          <button\n            onClick={() => setShowGenerateModal(true)}\n            className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-sangeet-neutral-950 bg-sangeet-400 hover:bg-sangeet-500 transition-colors\"\n          >\n            <Plus className=\"h-4 w-4 mr-2\" />\n            Generate QR Code\n          </button>\n        </div>\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-2xl font-bold text-sangeet-neutral-100 mb-2\">\n            Table QR Code Management\n          </h1>\n          <p className=\"text-sangeet-neutral-400\">\n            Manage QR codes for table ordering system\n          </p>\n        </div>\n\n        {/* Search and Filter Controls */}\n        <div className=\"mb-6 space-y-4\">\n          {/* Search Bar */}\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"flex-1 relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-sangeet-neutral-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search by table number...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 bg-sangeet-neutral-800 border border-sangeet-neutral-600 rounded-md text-sangeet-neutral-100 placeholder-sangeet-neutral-400 focus:outline-none focus:ring-2 focus:ring-sangeet-400 focus:border-transparent\"\n              />\n            </div>\n            \n            {/* Filter Dropdown */}\n            <div className=\"relative\">\n              <CustomDropdown\n                value={filterStatus}\n                onChange={setFilterStatus}\n                options={filterOptions}\n                className=\"min-w-[200px]\"\n              />\n            </div>\n\n            {/* Sort Options */}\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-sm text-sangeet-neutral-400\">Sort by:</span>\n              <button\n                onClick={() => handleSort('table_number')}\n                className=\"flex items-center space-x-1 px-3 py-1 bg-sangeet-neutral-800 border border-sangeet-neutral-600 rounded-md text-sangeet-neutral-300 hover:bg-sangeet-neutral-700 transition-colors\"\n              >\n                <span>Table</span>\n                {getSortIcon('table_number')}\n              </button>\n              <button\n                onClick={() => handleSort('active_orders')}\n                className=\"flex items-center space-x-1 px-3 py-1 bg-sangeet-neutral-800 border border-sangeet-neutral-600 rounded-md text-sangeet-neutral-300 hover:bg-sangeet-neutral-700 transition-colors\"\n              >\n                <span>Orders</span>\n                {getSortIcon('active_orders')}\n              </button>\n              <button\n                onClick={() => handleSort('created_at')}\n                className=\"flex items-center space-x-1 px-3 py-1 bg-sangeet-neutral-800 border border-sangeet-neutral-600 rounded-md text-sangeet-neutral-300 hover:bg-sangeet-neutral-700 transition-colors\"\n              >\n                <span>Created</span>\n                {getSortIcon('created_at')}\n              </button>\n            </div>\n          </div>\n\n          {/* Results Summary */}\n          <div className=\"flex items-center justify-between text-sm text-sangeet-neutral-400\">\n            <span>\n              Showing {sortedAndFilteredQRCodes.length} of {qrCodes.tableQRCodes.length} QR codes\n            </span>\n            {(searchTerm || filterStatus !== 'all') && (\n              <button\n                onClick={() => {\n                  setSearchTerm('');\n                  setFilterStatus('all');\n                }}\n                className=\"text-sangeet-400 hover:text-sangeet-300 transition-colors\"\n              >\n                Clear filters\n              </button>\n            )}\n          </div>\n        </div>\n\n                {/* QR Codes Grid */}\n        {sortedAndFilteredQRCodes.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <QrCode className=\"h-16 w-16 text-sangeet-neutral-600 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-medium text-sangeet-neutral-400 mb-2\">\n              No QR codes found\n            </h3>\n            <p className=\"text-sangeet-neutral-500\">\n              {searchTerm || filterStatus !== 'all' \n                ? 'Try adjusting your search or filter criteria'\n                : 'No table QR codes available yet'\n              }\n            </p>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {sortedAndFilteredQRCodes.map((qrCode) => (\n                  <motion.div\n                    key={qrCode.id}\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    className=\"bg-sangeet-neutral-900 rounded-xl shadow-lg border border-sangeet-neutral-700 overflow-hidden hover:border-sangeet-400/50 transition-all duration-300\"\n                  >\n                    <div className=\"p-6\">\n                      <div className=\"flex items-center justify-between mb-4\">\n                        <div className=\"flex items-center space-x-2\">\n                          <Smartphone className=\"h-5 w-5 text-sangeet-400\" />\n                          <h3 className=\"text-lg font-semibold text-sangeet-neutral-100\">\n                            Table {qrCode.table_number}\n                          </h3>\n                          {(qrCode.active_orders || 0) > 0 && (\n                            <span className=\"px-2 py-1 text-xs bg-orange-400/20 text-orange-400 border border-orange-400/30 rounded-full\">\n                              {qrCode.active_orders} active orders\n                            </span>\n                          )}\n                        </div>\n                        <div className=\"flex space-x-2\">\n                          <button\n                            onClick={() => handleViewAnalytics(qrCode)}\n                            className=\"p-1 text-sangeet-neutral-400 hover:text-sangeet-400 transition-colors\"\n                            title=\"View Analytics\"\n                          >\n                            <BarChart3 className=\"h-4 w-4\" />\n                          </button>\n                          <button\n                            onClick={() => {\n                              setDownloadTarget(qrCode);\n                              setShowDownloadModal(true);\n                            }}\n                            className=\"p-1 text-sangeet-neutral-400 hover:text-green-400 transition-colors\"\n                            title=\"Download Beautiful QR Code\"\n                          >\n                            <Download className=\"h-4 w-4\" />\n                          </button>\n                          <button\n                            onClick={() => handleDeleteQR(qrCode)}\n                            className={`p-1 transition-colors ${\n                              (qrCode.active_orders || 0) > 0 \n                                ? 'text-red-400/50 cursor-not-allowed' \n                                : 'text-sangeet-neutral-400 hover:text-red-400'\n                            }`}\n                            title={(qrCode.active_orders || 0) > 0 \n                              ? `Cannot delete: ${qrCode.active_orders} active orders` \n                              : 'Delete QR code'\n                            }\n                            disabled={(qrCode.active_orders || 0) > 0}\n                          >\n                            <Trash2 className=\"h-4 w-4\" />\n                          </button>\n                        </div>\n                      </div>\n\n                      {/* QR Code Preview */}\n                      <div className=\"bg-sangeet-neutral-800 rounded-lg p-4 mb-4 flex justify-center\">\n                        <img\n                          src={qrCode.qr_code_data}\n                          alt={`QR Code for Table ${qrCode.table_number}`}\n                          className=\"w-32 h-32\"\n                        />\n                      </div>\n\n                      {/* Analytics Summary */}\n                      <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                        <div>\n                          <p className=\"text-sangeet-neutral-400\">Total Orders</p>\n                          <p className=\"font-semibold text-sangeet-neutral-100\">{qrCode.total_orders || 0}</p>\n                        </div>\n                        <div>\n                          <p className=\"text-sangeet-neutral-400\">Revenue</p>\n                          <p className=\"font-semibold text-sangeet-neutral-100\">{formatCurrency(qrCode.total_revenue)}</p>\n                        </div>\n                        <div>\n                          <p className=\"text-sangeet-neutral-400\">Active Orders</p>\n                          <p className=\"font-semibold text-sangeet-neutral-100\">{qrCode.active_orders || 0}</p>\n                        </div>\n                        <div>\n                          <p className=\"text-sangeet-neutral-400\">Last Order</p>\n                          <p className=\"font-semibold text-xs text-sangeet-neutral-300\">\n                            {qrCode.last_order_date ? formatDate(qrCode.last_order_date) : 'Never'}\n                          </p>\n                        </div>\n                      </div>\n\n                      <div className=\"mt-4 pt-4 border-t border-sangeet-neutral-700\">\n                        <p className=\"text-xs text-sangeet-neutral-500 truncate\">\n                          {qrCode.qr_code_url}\n                        </p>\n                      </div>\n                    </div>\n                  </motion.div>\n                ))\n            }\n          </div>\n        )}\n\n\n      </div>\n\n      {/* Generate QR Code Modal */}\n      {showGenerateModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border border-sangeet-neutral-700 w-96 shadow-xl rounded-xl bg-sangeet-neutral-900\">\n            <div className=\"mt-3\">\n              <h3 className=\"text-lg font-medium text-sangeet-neutral-100 mb-4\">\n                Generate Table QR Code\n              </h3>\n              \n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-sangeet-neutral-300 mb-1\">\n                    Table Number *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.tableNumber}\n                    onChange={(e) => setFormData({...formData, tableNumber: e.target.value})}\n                    className=\"w-full px-3 py-2 border border-sangeet-neutral-600 rounded-md focus:outline-none focus:ring-2 focus:ring-sangeet-400 bg-sangeet-neutral-800 text-sangeet-neutral-100 placeholder-sangeet-neutral-500\"\n                    placeholder=\"e.g., 1, 2, 3\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-sangeet-neutral-300 mb-1\">\n                    Custom URL (Optional)\n                  </label>\n                  <input\n                    type=\"url\"\n                    value={formData.customUrl}\n                    onChange={(e) => setFormData({...formData, customUrl: e.target.value})}\n                    className=\"w-full px-3 py-2 border border-sangeet-neutral-600 rounded-md focus:outline-none focus:ring-2 focus:ring-sangeet-400 bg-sangeet-neutral-800 text-sangeet-neutral-100 placeholder-sangeet-neutral-500\"\n                    placeholder=\"https://your-restaurant.com/qr/table-1\"\n                  />\n                  <p className=\"text-xs text-sangeet-neutral-500 mt-1\">\n                    Leave empty to use default: {process.env.REACT_APP_CLIENT_URL || 'http://localhost:3000'}/qr/table-[number]\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"flex justify-end space-x-3 mt-6\">\n                <button\n                  onClick={() => setShowGenerateModal(false)}\n                  className=\"px-4 py-2 text-sm font-medium text-sangeet-neutral-300 bg-sangeet-neutral-800 hover:bg-sangeet-neutral-700 rounded-md transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={() => handleGenerateQR()}\n                  className=\"px-4 py-2 text-sm font-medium text-sangeet-neutral-950 bg-sangeet-400 hover:bg-sangeet-500 rounded-md transition-colors\"\n                >\n                  Generate QR Code\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Bulk Generate Modal */}\n      {showBulkModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border border-sangeet-neutral-700 w-96 shadow-xl rounded-xl bg-sangeet-neutral-900\">\n            <div className=\"mt-3\">\n              <h3 className=\"text-lg font-medium text-sangeet-neutral-100 mb-4\">\n                Bulk Generate Table QR Codes\n              </h3>\n              \n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-sangeet-neutral-300 mb-1\">\n                    Table Numbers *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={bulkFormData.tableNumbers}\n                    onChange={(e) => setBulkFormData({...bulkFormData, tableNumbers: e.target.value})}\n                    className=\"w-full px-3 py-2 border border-sangeet-neutral-600 rounded-md focus:outline-none focus:ring-2 focus:ring-sangeet-400 bg-sangeet-neutral-800 text-sangeet-neutral-100 placeholder-sangeet-neutral-500\"\n                    placeholder=\"e.g., 1,2,3,4,5 or 1-10\"\n                  />\n                  <p className=\"text-xs text-sangeet-neutral-500 mt-1\">\n                    Enter table numbers separated by commas\n                  </p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-sangeet-neutral-300 mb-1\">\n                    Base URL\n                  </label>\n                  <input\n                    type=\"url\"\n                    value={bulkFormData.baseUrl}\n                    onChange={(e) => setBulkFormData({...bulkFormData, baseUrl: e.target.value})}\n                    className=\"w-full px-3 py-2 border border-sangeet-neutral-600 rounded-md focus:outline-none focus:ring-2 focus:ring-sangeet-400 bg-sangeet-neutral-800 text-sangeet-neutral-100 placeholder-sangeet-neutral-500\"\n                    placeholder=\"https://your-restaurant.com\"\n                  />\n                  <p className=\"text-xs text-sangeet-neutral-500 mt-1\">\n                    This will be used as the base for all QR code URLs. For production, use your actual domain.\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"flex justify-end space-x-3 mt-6\">\n                <button\n                  onClick={() => setShowBulkModal(false)}\n                  className=\"px-4 py-2 text-sm font-medium text-sangeet-neutral-300 bg-sangeet-neutral-800 hover:bg-sangeet-neutral-700 rounded-md transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleBulkGenerate}\n                  className=\"px-4 py-2 text-sm font-medium text-sangeet-neutral-950 bg-sangeet-400 hover:bg-sangeet-500 rounded-md transition-colors\"\n                >\n                  Generate QR Codes\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Analytics Modal */}\n      {showAnalyticsModal && selectedQRCode && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border border-sangeet-neutral-700 w-96 shadow-xl rounded-xl bg-sangeet-neutral-900\">\n            <div className=\"mt-3\">\n              <h3 className=\"text-lg font-medium text-sangeet-neutral-100 mb-4\">\n                QR Code Analytics\n              </h3>\n              \n              {analytics ? (\n                <div className=\"space-y-4\">\n                  {selectedQRCode.type === 'table' ? (\n                    <>\n                      <div className=\"grid grid-cols-2 gap-4\">\n                        <div className=\"bg-sangeet-400/20 p-4 rounded-lg border border-sangeet-400/30\">\n                          <p className=\"text-sm text-sangeet-400 font-medium\">Total Orders</p>\n                          <p className=\"text-2xl font-bold text-sangeet-neutral-100\">{analytics.total_orders || 0}</p>\n                        </div>\n                        <div className=\"bg-green-400/20 p-4 rounded-lg border border-green-400/30\">\n                          <p className=\"text-sm text-green-400 font-medium\">Revenue</p>\n                          <p className=\"text-2xl font-bold text-sangeet-neutral-100\">{formatCurrency(analytics.total_revenue)}</p>\n                        </div>\n                        <div className=\"bg-yellow-400/20 p-4 rounded-lg border border-yellow-400/30\">\n                          <p className=\"text-sm text-yellow-400 font-medium\">Completed</p>\n                          <p className=\"text-2xl font-bold text-sangeet-neutral-100\">{analytics.completed_orders || 0}</p>\n                        </div>\n                        <div className=\"bg-red-400/20 p-4 rounded-lg border border-red-400/30\">\n                          <p className=\"text-sm text-red-400 font-medium\">Cancelled</p>\n                          <p className=\"text-2xl font-bold text-sangeet-neutral-100\">{analytics.cancelled_orders || 0}</p>\n                        </div>\n                      </div>\n                      <div className=\"space-y-2 text-sm\">\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-sangeet-neutral-400\">Average Order Value:</span>\n                          <span className=\"font-semibold text-sangeet-neutral-100\">{formatCurrency(analytics.avg_order_value)}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-sangeet-neutral-400\">Active Days:</span>\n                          <span className=\"font-semibold text-sangeet-neutral-100\">{analytics.active_days || 0}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-sangeet-neutral-400\">First Order:</span>\n                          <span className=\"font-semibold text-xs text-sangeet-neutral-300\">\n                            {analytics.first_order ? formatDate(analytics.first_order) : 'Never'}\n                          </span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-sangeet-neutral-400\">Last Order:</span>\n                          <span className=\"font-semibold text-xs text-sangeet-neutral-300\">\n                            {analytics.last_order ? formatDate(analytics.last_order) : 'Never'}\n                          </span>\n                        </div>\n                      </div>\n                    </>\n                  ) : (\n                    <div className=\"space-y-4\">\n                      <div>\n                        <p className=\"text-sm text-sangeet-neutral-400\">Purpose</p>\n                        <p className=\"font-semibold text-sangeet-neutral-100\">{analytics.purpose}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-sm text-sangeet-neutral-400\">Status</p>\n                        <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(analytics.status)}`}>\n                          {analytics.status}\n                        </span>\n                      </div>\n                      <div>\n                        <p className=\"text-sm text-sangeet-neutral-400\">Created</p>\n                        <p className=\"font-semibold text-xs text-sangeet-neutral-300\">{formatDate(analytics.created_at)}</p>\n                      </div>\n                      {analytics.expires_at && (\n                        <div>\n                          <p className=\"text-sm text-sangeet-neutral-400\">Expires</p>\n                          <p className=\"font-semibold text-xs text-sangeet-neutral-300\">{formatDate(analytics.expires_at)}</p>\n                        </div>\n                      )}\n                    </div>\n                  )}\n                </div>\n              ) : (\n                <div className=\"text-center py-8\">\n                  <BarChart3 className=\"h-12 w-12 text-sangeet-neutral-600 mx-auto mb-4\" />\n                  <p className=\"text-sangeet-neutral-400\">No analytics data available</p>\n                </div>\n              )}\n\n              <div className=\"flex justify-end mt-6\">\n                <button\n                  onClick={() => setShowAnalyticsModal(false)}\n                  className=\"px-4 py-2 text-sm font-medium text-sangeet-neutral-300 bg-sangeet-neutral-800 hover:bg-sangeet-neutral-700 rounded-md transition-colors\"\n                >\n                  Close\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Download Options Modal */}\n      {showDownloadModal && downloadTarget && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border border-sangeet-neutral-700 w-96 shadow-xl rounded-xl bg-sangeet-neutral-900\">\n            <div className=\"mt-3\">\n              <div className=\"flex items-center mb-4\">\n                <div className=\"flex-shrink-0\">\n                  <div className=\"w-12 h-12 bg-green-400/20 rounded-full flex items-center justify-center\">\n                    <Download className=\"h-6 w-6 text-green-400\" />\n                  </div>\n                </div>\n                <div className=\"ml-4\">\n                  <h3 className=\"text-lg font-medium text-sangeet-neutral-100\">\n                    Download Beautiful QR Code\n                  </h3>\n                  <p className=\"text-sm text-sangeet-neutral-400\">\n                    Table {downloadTarget.table_number}\n                  </p>\n                </div>\n              </div>\n              \n                                <div className=\"space-y-4 mb-6\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-sangeet-neutral-300 mb-2\">\n                        Design Style\n                      </label>\n                      <CustomDropdown\n                        value={downloadOptions.design}\n                        onChange={(design) => setDownloadOptions({...downloadOptions, design})}\n                        options={designOptions}\n                        className=\"w-full\"\n                      />\n                    </div>\n                    \n                    <div>\n                      <label className=\"block text-sm font-medium text-sangeet-neutral-300 mb-2\">\n                        Color Theme\n                      </label>\n                      <CustomDropdown\n                        value={downloadOptions.theme}\n                        onChange={(theme) => setDownloadOptions({...downloadOptions, theme})}\n                        options={themeOptions}\n                        className=\"w-full\"\n                      />\n                    </div>\n                    \n                    <div>\n                      <label className=\"block text-sm font-medium text-sangeet-neutral-300 mb-2\">\n                        Format\n                      </label>\n                      <CustomDropdown\n                        value={downloadOptions.format}\n                        onChange={(format) => setDownloadOptions({...downloadOptions, format})}\n                        options={formatOptions}\n                        className=\"w-full\"\n                      />\n                    </div>\n\n                <div className=\"bg-sangeet-neutral-800 rounded-lg p-3 border border-sangeet-neutral-700\">\n                  <p className=\"text-xs text-sangeet-neutral-400 mb-2\">Preview:</p>\n                  <div className=\"text-sm text-sangeet-neutral-300\">\n                    <p>â€¢ Sangeet logo and branding</p>\n                    <p>â€¢ Table number prominently displayed</p>\n                    <p>â€¢ Beautiful border and corner decorations</p>\n                    <p>â€¢ High-resolution QR code</p>\n                    <p>â€¢ \"Scan to Order\" instruction</p>\n                    <p>â€¢ Professional digital menu design</p>\n                    <p>â€¢ Premium gradients and shadows</p>\n                    <p>â€¢ Multiple color themes available</p>\n                    <p>â€¢ Enhanced typography and spacing</p>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"flex justify-end space-x-3\">\n                <button\n                  onClick={() => {\n                    setShowDownloadModal(false);\n                    setDownloadTarget(null);\n                  }}\n                  className=\"px-4 py-2 text-sm font-medium text-sangeet-neutral-300 bg-sangeet-neutral-800 hover:bg-sangeet-neutral-700 rounded-md transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={() => {\n                    handleDownloadQR(downloadTarget, downloadOptions.format, downloadOptions.design, downloadOptions.theme);\n                    setShowDownloadModal(false);\n                    setDownloadTarget(null);\n                  }}\n                  className=\"px-4 py-2 text-sm font-medium text-white bg-green-500 hover:bg-green-600 rounded-md transition-colors\"\n                >\n                  Download Beautiful QR\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Delete Confirmation Modal */}\n      {showDeleteModal && deleteTarget && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border border-sangeet-neutral-700 w-96 shadow-xl rounded-xl bg-sangeet-neutral-900\">\n            <div className=\"mt-3\">\n              <div className=\"flex items-center mb-4\">\n                <div className=\"flex-shrink-0\">\n                  <div className=\"w-12 h-12 bg-red-400/20 rounded-full flex items-center justify-center\">\n                    <Trash2 className=\"h-6 w-6 text-red-400\" />\n                  </div>\n                </div>\n                <div className=\"ml-4\">\n                  <h3 className=\"text-lg font-medium text-sangeet-neutral-100\">\n                    Delete QR Code\n                  </h3>\n                  <p className=\"text-sm text-sangeet-neutral-400\">\n                    This action cannot be undone\n                  </p>\n                </div>\n              </div>\n              \n              <div className=\"mb-6\">\n                <p className=\"text-sangeet-neutral-300 mb-2\">\n                  Are you sure you want to delete this table QR code?\n                </p>\n                <div className=\"bg-sangeet-neutral-800 rounded-lg p-3 border border-sangeet-neutral-700\">\n                  <p className=\"text-sm font-medium text-sangeet-neutral-100\">\n                    Table {deleteTarget.qrCode.table_number}\n                  </p>\n                  <p className=\"text-xs text-sangeet-neutral-500 mt-1\">\n                    {deleteTarget.qrCode.qr_code_url}\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"flex justify-end space-x-3\">\n                <button\n                  onClick={() => {\n                    setShowDeleteModal(false);\n                    setDeleteTarget(null);\n                  }}\n                  className=\"px-4 py-2 text-sm font-medium text-sangeet-neutral-300 bg-sangeet-neutral-800 hover:bg-sangeet-neutral-700 rounded-md transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={confirmDelete}\n                  className=\"px-4 py-2 text-sm font-medium text-white bg-red-500 hover:bg-red-600 rounded-md transition-colors\"\n                >\n                  Delete QR Code\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default QRManagementPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}