{"ast":null,"code":"import{io}from'socket.io-client';class SocketService{constructor(){this.socket=null;this.isConnected=false;this.listeners=new Map();}connect(){if(this.socket&&this.isConnected){return;}// If socket exists but not connected, disconnect first\nif(this.socket&&!this.isConnected){this.socket.disconnect();this.socket=null;}// Use the base URL without /api for socket connection\nconst baseUrl='https://sangeet-restaurant-api.onrender.com';const apiUrl=baseUrl.replace('/api','');// Remove /api if present\ntry{this.socket=io(apiUrl,{transports:['websocket','polling'],timeout:20000,forceNew:false,reconnection:true,reconnectionAttempts:5,reconnectionDelay:1000});}catch(error){console.error('Socket connection error:',error);return;}this.socket.on('connect',()=>{this.isConnected=true;// Do not auto-join any room. Pages/components must opt-in.\n});this.socket.on('disconnect',()=>{this.isConnected=false;});this.socket.on('connect_error',error=>{console.error('WebSocket connection error:',error);this.isConnected=false;});this.socket.on('reconnect',attemptNumber=>{this.isConnected=true;});this.socket.on('reconnect_error',error=>{console.error('WebSocket reconnection error:',error);this.isConnected=false;});}disconnect(){if(this.socket){this.socket.disconnect();this.socket=null;this.isConnected=false;}}// Join admin room for order notifications\njoinAdmin(){if(this.socket){this.socket.emit('join-admin');}}// Join admin room for order notifications (alias)\njoinAdminRoom(){if(!this.socket){this.connect();}if(this.socket){this.socket.emit('join-admin');}}// Join kitchen room for order notifications\njoinKitchen(){if(this.socket){this.socket.emit('join-kitchen');}}// Join customer room for order tracking\njoinCustomer(orderId){if(this.socket){this.socket.emit('join-customer',orderId);}}// Join table room for all table orders\njoinTable(tableNumber){if(this.socket){this.socket.emit('join-table',tableNumber);}}// Listen for new orders\nonNewOrder(callback){if(!this.socket){this.connect();}if(this.socket){this.socket.on('new-order',data=>{try{callback(data);}catch(error){console.error('Error in new-order callback:',error);}});this.listeners.set('new-order',callback);}}// Listen for order status updates\nonOrderStatusUpdate(callback){if(this.socket){this.socket.on('order-status-update',data=>{callback(data);});this.listeners.set('order-status-update',callback);}else{this.connect();if(this.socket){this.socket.on('order-status-update',data=>{callback(data);});this.listeners.set('order-status-update',callback);}}}// Listen for table order updates\nonTableOrderUpdate(callback){if(this.socket){this.socket.on('table-order-update',callback);this.listeners.set('table-order-update',callback);}}// Listen for order completion\nonOrderCompleted(callback){if(this.socket){this.socket.on('order-completed',callback);this.listeners.set('order-completed',callback);}}// Listen for new items added to existing orders\nonNewItemsAdded(callback){if(this.socket){this.socket.on('new-items-added',callback);this.listeners.set('new-items-added',callback);}}// Listen for order cancellation\nonOrderCancelled(callback){if(this.socket){this.socket.on('order-cancelled',callback);this.listeners.set('order-cancelled',callback);}}// Listen for order deletion\nonOrderDeleted(callback){if(this.socket){this.socket.on('order-deleted',callback);this.listeners.set('order-deleted',callback);}}// Remove specific listener\nremoveListener(event){if(this.socket&&this.listeners.has(event)){this.socket.off(event,this.listeners.get(event));this.listeners.delete(event);}}// Remove all listeners\nremoveAllListeners(){if(this.socket){this.socket.removeAllListeners();this.listeners.clear();}}// Play notification sound using browser's built-in audio\nplayNotificationSound(){let type=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'notification';try{// Create or resume audio context for browser-based sound generation\nlet audioContext=this.audioContext;if(!audioContext){audioContext=new(window.AudioContext||window.webkitAudioContext)();this.audioContext=audioContext;}// Resume audio context if suspended (required by modern browsers)\nif(audioContext.state==='suspended'){audioContext.resume().then(()=>{console.log('Audio context resumed successfully');}).catch(error=>{console.log('Failed to resume audio context:',error);});}const oscillator=audioContext.createOscillator();const gainNode=audioContext.createGain();oscillator.connect(gainNode);gainNode.connect(audioContext.destination);// Different sounds for different notification types\nif(type==='notification'){// High-pitched beep for new orders\noscillator.frequency.setValueAtTime(800,audioContext.currentTime);oscillator.frequency.setValueAtTime(600,audioContext.currentTime+0.1);oscillator.frequency.setValueAtTime(800,audioContext.currentTime+0.2);}else if(type==='completion'){// Success sound for completed orders\noscillator.frequency.setValueAtTime(600,audioContext.currentTime);oscillator.frequency.setValueAtTime(800,audioContext.currentTime+0.1);oscillator.frequency.setValueAtTime(1000,audioContext.currentTime+0.2);}gainNode.gain.setValueAtTime(0.1,audioContext.currentTime);gainNode.gain.exponentialRampToValueAtTime(0.01,audioContext.currentTime+0.3);oscillator.start(audioContext.currentTime);oscillator.stop(audioContext.currentTime+0.3);console.log(\"\\uD83D\\uDD0A Played \".concat(type,\" sound successfully\"));}catch(error){console.log('Could not play notification sound:',error);// Fallback: try to play a simple beep using the Web Audio API\ntry{const audio=new Audio();audio.src='data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT';audio.volume=0.3;audio.play().catch(()=>{console.log('Audio playback not supported');});}catch(fallbackError){console.log('No audio support available');}}}// Show browser notification\nshowBrowserNotification(title,body){let icon=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'/logo192.png';if('Notification'in window&&Notification.permission==='granted'){new Notification(title,{body,icon,badge:'/logo192.png'});}}}// Create singleton instance\nconst socketService=new SocketService();export default socketService;","map":{"version":3,"names":["io","SocketService","constructor","socket","isConnected","listeners","Map","connect","disconnect","baseUrl","apiUrl","replace","transports","timeout","forceNew","reconnection","reconnectionAttempts","reconnectionDelay","error","console","on","attemptNumber","joinAdmin","emit","joinAdminRoom","joinKitchen","joinCustomer","orderId","joinTable","tableNumber","onNewOrder","callback","data","set","onOrderStatusUpdate","onTableOrderUpdate","onOrderCompleted","onNewItemsAdded","onOrderCancelled","onOrderDeleted","removeListener","event","has","off","get","delete","removeAllListeners","clear","playNotificationSound","type","arguments","length","undefined","audioContext","window","AudioContext","webkitAudioContext","state","resume","then","log","catch","oscillator","createOscillator","gainNode","createGain","destination","frequency","setValueAtTime","currentTime","gain","exponentialRampToValueAtTime","start","stop","concat","audio","Audio","src","volume","play","fallbackError","showBrowserNotification","title","body","icon","Notification","permission","badge","socketService"],"sources":["/Users/amanrana/Desktop/sangeet_restaurant_fresh/frontend/src/services/socketService.js"],"sourcesContent":["import { io } from 'socket.io-client';\n\nclass SocketService {\n  constructor() {\n    this.socket = null;\n    this.isConnected = false;\n    this.listeners = new Map();\n  }\n\n  connect() {\n    if (this.socket && this.isConnected) {\n      return;\n    }\n    \n    // If socket exists but not connected, disconnect first\n    if (this.socket && !this.isConnected) {\n      this.socket.disconnect();\n      this.socket = null;\n    }\n\n    // Use the base URL without /api for socket connection\n    const baseUrl = 'https://sangeet-restaurant-api.onrender.com';\n    const apiUrl = baseUrl.replace('/api', ''); // Remove /api if present\n    \n    try {\n      this.socket = io(apiUrl, {\n        transports: ['websocket', 'polling'],\n        timeout: 20000,\n        forceNew: false,\n        reconnection: true,\n        reconnectionAttempts: 5,\n        reconnectionDelay: 1000\n      });\n    } catch (error) {\n      console.error('Socket connection error:', error);\n      return;\n    }\n\n    this.socket.on('connect', () => {\n      this.isConnected = true;\n      // Do not auto-join any room. Pages/components must opt-in.\n    });\n\n    this.socket.on('disconnect', () => {\n      this.isConnected = false;\n    });\n\n    this.socket.on('connect_error', (error) => {\n      console.error('WebSocket connection error:', error);\n      this.isConnected = false;\n    });\n\n    this.socket.on('reconnect', (attemptNumber) => {\n      this.isConnected = true;\n    });\n\n    this.socket.on('reconnect_error', (error) => {\n      console.error('WebSocket reconnection error:', error);\n      this.isConnected = false;\n    });\n  }\n\n  disconnect() {\n    if (this.socket) {\n      this.socket.disconnect();\n      this.socket = null;\n      this.isConnected = false;\n    }\n  }\n\n  // Join admin room for order notifications\n  joinAdmin() {\n    if (this.socket) {\n      this.socket.emit('join-admin');\n    }\n  }\n\n  // Join admin room for order notifications (alias)\n  joinAdminRoom() {\n    if (!this.socket) {\n      this.connect();\n    }\n    \n    if (this.socket) {\n      this.socket.emit('join-admin');\n    }\n  }\n\n  // Join kitchen room for order notifications\n  joinKitchen() {\n    if (this.socket) {\n      this.socket.emit('join-kitchen');\n    }\n  }\n\n  // Join customer room for order tracking\n  joinCustomer(orderId) {\n    if (this.socket) {\n      this.socket.emit('join-customer', orderId);\n    }\n  }\n\n  // Join table room for all table orders\n  joinTable(tableNumber) {\n    if (this.socket) {\n      this.socket.emit('join-table', tableNumber);\n    }\n  }\n\n  // Listen for new orders\n  onNewOrder(callback) {\n    if (!this.socket) {\n      this.connect();\n    }\n    \n    if (this.socket) {\n      this.socket.on('new-order', (data) => {\n        try {\n          callback(data);\n        } catch (error) {\n          console.error('Error in new-order callback:', error);\n        }\n      });\n      this.listeners.set('new-order', callback);\n    }\n  }\n\n  // Listen for order status updates\n  onOrderStatusUpdate(callback) {\n    if (this.socket) {\n      this.socket.on('order-status-update', (data) => {\n        callback(data);\n      });\n      this.listeners.set('order-status-update', callback);\n    } else {\n      this.connect();\n      if (this.socket) {\n        this.socket.on('order-status-update', (data) => {\n          callback(data);\n        });\n        this.listeners.set('order-status-update', callback);\n      }\n    }\n  }\n\n\n\n  // Listen for table order updates\n  onTableOrderUpdate(callback) {\n    if (this.socket) {\n      this.socket.on('table-order-update', callback);\n      this.listeners.set('table-order-update', callback);\n    }\n  }\n\n  // Listen for order completion\n  onOrderCompleted(callback) {\n    if (this.socket) {\n      this.socket.on('order-completed', callback);\n      this.listeners.set('order-completed', callback);\n    }\n  }\n\n  // Listen for new items added to existing orders\n  onNewItemsAdded(callback) {\n    if (this.socket) {\n      this.socket.on('new-items-added', callback);\n      this.listeners.set('new-items-added', callback);\n    }\n  }\n\n  // Listen for order cancellation\n  onOrderCancelled(callback) {\n    if (this.socket) {\n      this.socket.on('order-cancelled', callback);\n      this.listeners.set('order-cancelled', callback);\n    }\n  }\n\n  // Listen for order deletion\n  onOrderDeleted(callback) {\n    if (this.socket) {\n      this.socket.on('order-deleted', callback);\n      this.listeners.set('order-deleted', callback);\n    }\n  }\n\n  // Remove specific listener\n  removeListener(event) {\n    if (this.socket && this.listeners.has(event)) {\n      this.socket.off(event, this.listeners.get(event));\n      this.listeners.delete(event);\n    }\n  }\n\n  // Remove all listeners\n  removeAllListeners() {\n    if (this.socket) {\n      this.socket.removeAllListeners();\n      this.listeners.clear();\n    }\n  }\n\n  // Play notification sound using browser's built-in audio\n  playNotificationSound(type = 'notification') {\n    try {\n      // Create or resume audio context for browser-based sound generation\n      let audioContext = this.audioContext;\n      if (!audioContext) {\n        audioContext = new (window.AudioContext || window.webkitAudioContext)();\n        this.audioContext = audioContext;\n      }\n      \n      // Resume audio context if suspended (required by modern browsers)\n      if (audioContext.state === 'suspended') {\n        audioContext.resume().then(() => {\n          console.log('Audio context resumed successfully');\n        }).catch(error => {\n          console.log('Failed to resume audio context:', error);\n        });\n      }\n      \n      const oscillator = audioContext.createOscillator();\n      const gainNode = audioContext.createGain();\n      \n      oscillator.connect(gainNode);\n      gainNode.connect(audioContext.destination);\n      \n      // Different sounds for different notification types\n      if (type === 'notification') {\n        // High-pitched beep for new orders\n        oscillator.frequency.setValueAtTime(800, audioContext.currentTime);\n        oscillator.frequency.setValueAtTime(600, audioContext.currentTime + 0.1);\n        oscillator.frequency.setValueAtTime(800, audioContext.currentTime + 0.2);\n      } else if (type === 'completion') {\n        // Success sound for completed orders\n        oscillator.frequency.setValueAtTime(600, audioContext.currentTime);\n        oscillator.frequency.setValueAtTime(800, audioContext.currentTime + 0.1);\n        oscillator.frequency.setValueAtTime(1000, audioContext.currentTime + 0.2);\n      }\n      \n      gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);\n      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);\n      \n      oscillator.start(audioContext.currentTime);\n      oscillator.stop(audioContext.currentTime + 0.3);\n      \n      console.log(`🔊 Played ${type} sound successfully`);\n      \n    } catch (error) {\n      console.log('Could not play notification sound:', error);\n      // Fallback: try to play a simple beep using the Web Audio API\n      try {\n        const audio = new Audio();\n        audio.src = 'data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT';\n        audio.volume = 0.3;\n        audio.play().catch(() => {\n          console.log('Audio playback not supported');\n        });\n      } catch (fallbackError) {\n        console.log('No audio support available');\n      }\n    }\n  }\n\n  // Show browser notification\n  showBrowserNotification(title, body, icon = '/logo192.png') {\n    if ('Notification' in window && Notification.permission === 'granted') {\n      new Notification(title, {\n        body,\n        icon,\n        badge: '/logo192.png'\n      });\n    }\n  }\n}\n\n// Create singleton instance\nconst socketService = new SocketService();\n\nexport default socketService; \n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}