{"ast":null,"code":"var _excluded = [\"onMouseEnter\", \"onClick\", \"onMouseLeave\", \"shape\", \"activeShape\"],\n  _excluded2 = [\"stroke\", \"fill\", \"legendType\", \"hide\", \"isAnimationActive\", \"animationBegin\", \"animationDuration\", \"animationEasing\", \"nameKey\", \"lastShapeType\"];\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n  var o,\n    r,\n    i = _objectWithoutPropertiesLoose(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n  return i;\n}\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\n/* eslint-disable max-classes-per-file */\nimport * as React from 'react';\nimport { PureComponent, useCallback, useMemo, useRef, useState } from 'react';\nimport omit from 'es-toolkit/compat/omit';\nimport { clsx } from 'clsx';\nimport { selectActiveIndex } from '../state/selectors/selectors';\nimport { useAppSelector } from '../state/hooks';\nimport { Layer } from '../container/Layer';\nimport { LabelList } from '../component/LabelList';\nimport { Global } from '../util/Global';\nimport { interpolateNumber, isNumber } from '../util/DataUtils';\nimport { getValueByDataKey } from '../util/ChartUtils';\nimport { adaptEventsOfChild } from '../util/types';\nimport { FunnelTrapezoid } from '../util/FunnelUtils';\nimport { useMouseClickItemDispatch, useMouseEnterItemDispatch, useMouseLeaveItemDispatch } from '../context/tooltipContext';\nimport { SetTooltipEntrySettings } from '../state/SetTooltipEntrySettings';\nimport { selectFunnelTrapezoids } from '../state/selectors/funnelSelectors';\nimport { findAllByType } from '../util/ReactUtils';\nimport { Cell } from '../component/Cell';\nimport { resolveDefaultProps } from '../util/resolveDefaultProps';\nimport { usePlotArea } from '../hooks';\nimport { svgPropertiesNoEvents } from '../util/svgPropertiesNoEvents';\nimport { JavascriptAnimate } from '../animation/JavascriptAnimate';\n\n/**\n * Internal props, combination of external props + defaultProps + private Recharts state\n */\n\n/**\n * External props, intended for end users to fill in\n */\n\nfunction getTooltipEntrySettings(props) {\n  var {\n    dataKey,\n    nameKey,\n    stroke,\n    strokeWidth,\n    fill,\n    name,\n    hide,\n    tooltipType,\n    data\n  } = props;\n  return {\n    dataDefinedOnItem: data,\n    positions: props.trapezoids.map(_ref => {\n      var {\n        tooltipPosition\n      } = _ref;\n      return tooltipPosition;\n    }),\n    settings: {\n      stroke,\n      strokeWidth,\n      fill,\n      dataKey,\n      name,\n      nameKey,\n      hide,\n      type: tooltipType,\n      color: fill,\n      unit: '' // Funnel does not have unit, why?\n    }\n  };\n}\nfunction FunnelTrapezoids(props) {\n  var {\n    trapezoids,\n    allOtherFunnelProps,\n    showLabels\n  } = props;\n  var activeItemIndex = useAppSelector(state => selectActiveIndex(state, 'item', state.tooltip.settings.trigger, undefined));\n  var {\n      onMouseEnter: onMouseEnterFromProps,\n      onClick: onItemClickFromProps,\n      onMouseLeave: onMouseLeaveFromProps,\n      shape,\n      activeShape\n    } = allOtherFunnelProps,\n    restOfAllOtherProps = _objectWithoutProperties(allOtherFunnelProps, _excluded);\n  var onMouseEnterFromContext = useMouseEnterItemDispatch(onMouseEnterFromProps, allOtherFunnelProps.dataKey);\n  var onMouseLeaveFromContext = useMouseLeaveItemDispatch(onMouseLeaveFromProps);\n  var onClickFromContext = useMouseClickItemDispatch(onItemClickFromProps, allOtherFunnelProps.dataKey);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, trapezoids.map((entry, i) => {\n    var isActiveIndex = activeShape && activeItemIndex === String(i);\n    var trapezoidOptions = isActiveIndex ? activeShape : shape;\n    var trapezoidProps = _objectSpread(_objectSpread({}, entry), {}, {\n      option: trapezoidOptions,\n      isActive: isActiveIndex,\n      stroke: entry.stroke\n    });\n    return /*#__PURE__*/React.createElement(Layer, _extends({\n      className: \"recharts-funnel-trapezoid\"\n    }, adaptEventsOfChild(restOfAllOtherProps, entry, i), {\n      // @ts-expect-error the types need a bit of attention\n      onMouseEnter: onMouseEnterFromContext(entry, i)\n      // @ts-expect-error the types need a bit of attention\n      ,\n\n      onMouseLeave: onMouseLeaveFromContext(entry, i)\n      // @ts-expect-error the types need a bit of attention\n      ,\n\n      onClick: onClickFromContext(entry, i),\n      key: \"trapezoid-\".concat(entry === null || entry === void 0 ? void 0 : entry.x, \"-\").concat(entry === null || entry === void 0 ? void 0 : entry.y, \"-\").concat(entry === null || entry === void 0 ? void 0 : entry.name, \"-\").concat(entry === null || entry === void 0 ? void 0 : entry.value)\n    }), /*#__PURE__*/React.createElement(FunnelTrapezoid, trapezoidProps));\n  }), showLabels && LabelList.renderCallByParent(allOtherFunnelProps, trapezoids));\n}\nvar latestId = 0;\n\n/**\n * This hook will return a unique animation id for the given reference.\n * The ID increments every time the reference changes.\n * @param reference The reference to track\n * @returns The unique animation ID\n */\nfunction useAnimationId(reference) {\n  var idRef = useRef(latestId);\n  var ref = useRef(reference);\n  if (ref.current !== reference) {\n    idRef.current += 1;\n    latestId = idRef.current;\n    ref.current = reference;\n  }\n  return idRef.current;\n}\nfunction TrapezoidsWithAnimation(_ref2) {\n  var {\n    previousTrapezoidsRef,\n    props\n  } = _ref2;\n  var {\n    trapezoids,\n    isAnimationActive,\n    animationBegin,\n    animationDuration,\n    animationEasing,\n    onAnimationEnd,\n    onAnimationStart\n  } = props;\n  var prevTrapezoids = previousTrapezoidsRef.current;\n  var [isAnimating, setIsAnimating] = useState(true);\n  var animationId = useAnimationId(trapezoids);\n  var handleAnimationEnd = useCallback(() => {\n    if (typeof onAnimationEnd === 'function') {\n      onAnimationEnd();\n    }\n    setIsAnimating(false);\n  }, [onAnimationEnd]);\n  var handleAnimationStart = useCallback(() => {\n    if (typeof onAnimationStart === 'function') {\n      onAnimationStart();\n    }\n    setIsAnimating(true);\n  }, [onAnimationStart]);\n  return /*#__PURE__*/React.createElement(JavascriptAnimate, {\n    begin: animationBegin,\n    duration: animationDuration,\n    isActive: isAnimationActive,\n    easing: animationEasing,\n    key: animationId,\n    onAnimationStart: handleAnimationStart,\n    onAnimationEnd: handleAnimationEnd\n  }, t => {\n    var stepData = t === 1 ? trapezoids : trapezoids.map((entry, index) => {\n      var prev = prevTrapezoids && prevTrapezoids[index];\n      if (prev) {\n        var _interpolatorX = interpolateNumber(prev.x, entry.x);\n        var _interpolatorY = interpolateNumber(prev.y, entry.y);\n        var _interpolatorUpperWidth = interpolateNumber(prev.upperWidth, entry.upperWidth);\n        var _interpolatorLowerWidth = interpolateNumber(prev.lowerWidth, entry.lowerWidth);\n        var _interpolatorHeight = interpolateNumber(prev.height, entry.height);\n        return _objectSpread(_objectSpread({}, entry), {}, {\n          x: _interpolatorX(t),\n          y: _interpolatorY(t),\n          upperWidth: _interpolatorUpperWidth(t),\n          lowerWidth: _interpolatorLowerWidth(t),\n          height: _interpolatorHeight(t)\n        });\n      }\n      var interpolatorX = interpolateNumber(entry.x + entry.upperWidth / 2, entry.x);\n      var interpolatorY = interpolateNumber(entry.y + entry.height / 2, entry.y);\n      var interpolatorUpperWidth = interpolateNumber(0, entry.upperWidth);\n      var interpolatorLowerWidth = interpolateNumber(0, entry.lowerWidth);\n      var interpolatorHeight = interpolateNumber(0, entry.height);\n      return _objectSpread(_objectSpread({}, entry), {}, {\n        x: interpolatorX(t),\n        y: interpolatorY(t),\n        upperWidth: interpolatorUpperWidth(t),\n        lowerWidth: interpolatorLowerWidth(t),\n        height: interpolatorHeight(t)\n      });\n    });\n    if (t > 0) {\n      // eslint-disable-next-line no-param-reassign\n      previousTrapezoidsRef.current = stepData;\n    }\n    return /*#__PURE__*/React.createElement(Layer, null, /*#__PURE__*/React.createElement(FunnelTrapezoids, {\n      trapezoids: stepData,\n      allOtherFunnelProps: props,\n      showLabels: !isAnimating\n    }));\n  });\n}\nfunction RenderTrapezoids(props) {\n  var {\n    trapezoids,\n    isAnimationActive\n  } = props;\n  var previousTrapezoidsRef = useRef(null);\n  var prevTrapezoids = previousTrapezoidsRef.current;\n  if (isAnimationActive && trapezoids && trapezoids.length && (!prevTrapezoids || prevTrapezoids !== trapezoids)) {\n    return /*#__PURE__*/React.createElement(TrapezoidsWithAnimation, {\n      props: props,\n      previousTrapezoidsRef: previousTrapezoidsRef\n    });\n  }\n  return /*#__PURE__*/React.createElement(FunnelTrapezoids, {\n    trapezoids: trapezoids,\n    allOtherFunnelProps: props,\n    showLabels: true\n  });\n}\nvar getRealWidthHeight = (customWidth, offset) => {\n  var {\n    width,\n    height,\n    left,\n    right,\n    top,\n    bottom\n  } = offset;\n  var realHeight = height;\n  var realWidth = width;\n  if (isNumber(customWidth)) {\n    realWidth = customWidth;\n  } else if (typeof customWidth === 'string') {\n    realWidth = realWidth * parseFloat(customWidth) / 100;\n  }\n  return {\n    realWidth: realWidth - left - right - 50,\n    realHeight: realHeight - bottom - top,\n    offsetX: (width - realWidth) / 2,\n    offsetY: (height - realHeight) / 2\n  };\n};\nexport class FunnelWithState extends PureComponent {\n  render() {\n    var {\n      className\n    } = this.props;\n    var layerClass = clsx('recharts-trapezoids', className);\n    return /*#__PURE__*/React.createElement(Layer, {\n      className: layerClass\n    }, /*#__PURE__*/React.createElement(RenderTrapezoids, this.props));\n  }\n}\nvar defaultFunnelProps = {\n  stroke: '#fff',\n  fill: '#808080',\n  legendType: 'rect',\n  hide: false,\n  isAnimationActive: !Global.isSsr,\n  animationBegin: 400,\n  animationDuration: 1500,\n  animationEasing: 'ease',\n  nameKey: 'name',\n  lastShapeType: 'triangle'\n};\nfunction FunnelImpl(props) {\n  var {\n    height,\n    width\n  } = usePlotArea();\n  var _resolveDefaultProps = resolveDefaultProps(props, defaultFunnelProps),\n    {\n      stroke,\n      fill,\n      legendType,\n      hide,\n      isAnimationActive,\n      animationBegin,\n      animationDuration,\n      animationEasing,\n      nameKey,\n      lastShapeType\n    } = _resolveDefaultProps,\n    everythingElse = _objectWithoutProperties(_resolveDefaultProps, _excluded2);\n  var presentationProps = svgPropertiesNoEvents(props);\n  var cells = findAllByType(props.children, Cell);\n  var funnelSettings = useMemo(() => ({\n    dataKey: props.dataKey,\n    nameKey,\n    data: props.data,\n    tooltipType: props.tooltipType,\n    lastShapeType,\n    reversed: props.reversed,\n    customWidth: props.width,\n    cells,\n    presentationProps\n  }), [props.dataKey, nameKey, props.data, props.tooltipType, lastShapeType, props.reversed, props.width, cells, presentationProps]);\n  var {\n    trapezoids\n  } = useAppSelector(state => selectFunnelTrapezoids(state, funnelSettings));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SetTooltipEntrySettings, {\n    fn: getTooltipEntrySettings,\n    args: _objectSpread(_objectSpread({}, props), {}, {\n      trapezoids\n    })\n  }), hide ? null : /*#__PURE__*/React.createElement(FunnelWithState, _extends({}, everythingElse, {\n    stroke: stroke,\n    fill: fill,\n    nameKey: nameKey,\n    lastShapeType: lastShapeType,\n    animationBegin: animationBegin,\n    animationDuration: animationDuration,\n    animationEasing: animationEasing,\n    isAnimationActive: isAnimationActive,\n    hide: hide,\n    legendType: legendType,\n    height: height,\n    width: width,\n    trapezoids: trapezoids\n  })));\n}\nexport function computeFunnelTrapezoids(_ref3) {\n  var {\n    dataKey,\n    nameKey,\n    displayedData,\n    tooltipType,\n    lastShapeType,\n    reversed,\n    offset,\n    customWidth\n  } = _ref3;\n  var {\n    left,\n    top\n  } = offset;\n  var {\n    realHeight,\n    realWidth,\n    offsetX,\n    offsetY\n  } = getRealWidthHeight(customWidth, offset);\n  var maxValue = Math.max.apply(null, displayedData.map(entry => getValueByDataKey(entry, dataKey, 0)));\n  var len = displayedData.length;\n  var rowHeight = realHeight / len;\n  var parentViewBox = {\n    x: offset.left,\n    y: offset.top,\n    width: offset.width,\n    height: offset.height\n  };\n  var trapezoids = displayedData.map((entry, i) => {\n    var rawVal = getValueByDataKey(entry, dataKey, 0);\n    var name = getValueByDataKey(entry, nameKey, i);\n    var val = rawVal;\n    var nextVal;\n    if (i !== len - 1) {\n      nextVal = getValueByDataKey(displayedData[i + 1], dataKey, 0);\n      if (nextVal instanceof Array) {\n        [nextVal] = nextVal;\n      }\n    } else if (rawVal instanceof Array && rawVal.length === 2) {\n      [val, nextVal] = rawVal;\n    } else if (lastShapeType === 'rectangle') {\n      nextVal = val;\n    } else {\n      nextVal = 0;\n    }\n\n    // @ts-expect-error getValueByDataKey does not validate the output type\n    var x = (maxValue - val) * realWidth / (2 * maxValue) + top + 25 + offsetX;\n    var y = rowHeight * i + left + offsetY;\n    // @ts-expect-error getValueByDataKey does not validate the output type\n    var upperWidth = val / maxValue * realWidth;\n    var lowerWidth = nextVal / maxValue * realWidth;\n    var tooltipPayload = [{\n      name,\n      value: val,\n      payload: entry,\n      dataKey,\n      type: tooltipType\n    }];\n    var tooltipPosition = {\n      x: x + upperWidth / 2,\n      y: y + rowHeight / 2\n    };\n    return _objectSpread(_objectSpread({\n      x,\n      y,\n      width: Math.max(upperWidth, lowerWidth),\n      upperWidth,\n      lowerWidth,\n      height: rowHeight,\n      // @ts-expect-error getValueByDataKey does not validate the output type\n      name,\n      val,\n      tooltipPayload,\n      tooltipPosition\n    }, omit(entry, ['width'])), {}, {\n      payload: entry,\n      parentViewBox,\n      labelViewBox: {\n        x: x + (upperWidth - lowerWidth) / 4,\n        y,\n        width: Math.abs(upperWidth - lowerWidth) / 2 + Math.min(upperWidth, lowerWidth),\n        height: rowHeight\n      }\n    });\n  });\n  if (reversed) {\n    trapezoids = trapezoids.map((entry, index) => {\n      var newY = entry.y - index * rowHeight + (len - 1 - index) * rowHeight;\n      return _objectSpread(_objectSpread({}, entry), {}, {\n        upperWidth: entry.lowerWidth,\n        lowerWidth: entry.upperWidth,\n        x: entry.x - (entry.lowerWidth - entry.upperWidth) / 2,\n        y: entry.y - index * rowHeight + (len - 1 - index) * rowHeight,\n        tooltipPosition: _objectSpread(_objectSpread({}, entry.tooltipPosition), {}, {\n          y: newY + rowHeight / 2\n        }),\n        labelViewBox: _objectSpread(_objectSpread({}, entry.labelViewBox), {}, {\n          y: newY\n        })\n      });\n    });\n  }\n  return {\n    trapezoids,\n    data: displayedData\n  };\n}\nexport class Funnel extends PureComponent {\n  render() {\n    return /*#__PURE__*/React.createElement(FunnelImpl, this.props);\n  }\n}\n_defineProperty(Funnel, \"displayName\", 'Funnel');\n_defineProperty(Funnel, \"defaultProps\", defaultFunnelProps);","map":{"version":3,"names":["_excluded","_excluded2","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","ownKeys","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","_objectWithoutProperties","_objectWithoutPropertiesLoose","indexOf","propertyIsEnumerable","React","PureComponent","useCallback","useMemo","useRef","useState","omit","clsx","selectActiveIndex","useAppSelector","Layer","LabelList","Global","interpolateNumber","isNumber","getValueByDataKey","adaptEventsOfChild","FunnelTrapezoid","useMouseClickItemDispatch","useMouseEnterItemDispatch","useMouseLeaveItemDispatch","SetTooltipEntrySettings","selectFunnelTrapezoids","findAllByType","Cell","resolveDefaultProps","usePlotArea","svgPropertiesNoEvents","JavascriptAnimate","getTooltipEntrySettings","props","dataKey","nameKey","stroke","strokeWidth","fill","name","hide","tooltipType","data","dataDefinedOnItem","positions","trapezoids","map","_ref","tooltipPosition","settings","type","color","unit","FunnelTrapezoids","allOtherFunnelProps","showLabels","activeItemIndex","state","tooltip","trigger","undefined","onMouseEnter","onMouseEnterFromProps","onClick","onItemClickFromProps","onMouseLeave","onMouseLeaveFromProps","shape","activeShape","restOfAllOtherProps","onMouseEnterFromContext","onMouseLeaveFromContext","onClickFromContext","createElement","Fragment","entry","isActiveIndex","trapezoidOptions","trapezoidProps","option","isActive","className","key","concat","x","y","renderCallByParent","latestId","useAnimationId","reference","idRef","ref","current","TrapezoidsWithAnimation","_ref2","previousTrapezoidsRef","isAnimationActive","animationBegin","animationDuration","animationEasing","onAnimationEnd","onAnimationStart","prevTrapezoids","isAnimating","setIsAnimating","animationId","handleAnimationEnd","handleAnimationStart","begin","duration","easing","stepData","index","prev","_interpolatorX","_interpolatorY","_interpolatorUpperWidth","upperWidth","_interpolatorLowerWidth","lowerWidth","_interpolatorHeight","height","interpolatorX","interpolatorY","interpolatorUpperWidth","interpolatorLowerWidth","interpolatorHeight","RenderTrapezoids","getRealWidthHeight","customWidth","offset","width","left","right","top","bottom","realHeight","realWidth","parseFloat","offsetX","offsetY","FunnelWithState","render","layerClass","defaultFunnelProps","legendType","isSsr","lastShapeType","FunnelImpl","_resolveDefaultProps","everythingElse","presentationProps","cells","children","funnelSettings","reversed","fn","args","computeFunnelTrapezoids","_ref3","displayedData","maxValue","Math","max","len","rowHeight","parentViewBox","rawVal","val","nextVal","Array","tooltipPayload","payload","labelViewBox","abs","min","newY","Funnel"],"sources":["/Users/amanrana/Desktop/sangeet_restaurant_fresh/node_modules/recharts/es6/cartesian/Funnel.js"],"sourcesContent":["var _excluded = [\"onMouseEnter\", \"onClick\", \"onMouseLeave\", \"shape\", \"activeShape\"],\n  _excluded2 = [\"stroke\", \"fill\", \"legendType\", \"hide\", \"isAnimationActive\", \"animationBegin\", \"animationDuration\", \"animationEasing\", \"nameKey\", \"lastShapeType\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\n/* eslint-disable max-classes-per-file */\nimport * as React from 'react';\nimport { PureComponent, useCallback, useMemo, useRef, useState } from 'react';\nimport omit from 'es-toolkit/compat/omit';\nimport { clsx } from 'clsx';\nimport { selectActiveIndex } from '../state/selectors/selectors';\nimport { useAppSelector } from '../state/hooks';\nimport { Layer } from '../container/Layer';\nimport { LabelList } from '../component/LabelList';\nimport { Global } from '../util/Global';\nimport { interpolateNumber, isNumber } from '../util/DataUtils';\nimport { getValueByDataKey } from '../util/ChartUtils';\nimport { adaptEventsOfChild } from '../util/types';\nimport { FunnelTrapezoid } from '../util/FunnelUtils';\nimport { useMouseClickItemDispatch, useMouseEnterItemDispatch, useMouseLeaveItemDispatch } from '../context/tooltipContext';\nimport { SetTooltipEntrySettings } from '../state/SetTooltipEntrySettings';\nimport { selectFunnelTrapezoids } from '../state/selectors/funnelSelectors';\nimport { findAllByType } from '../util/ReactUtils';\nimport { Cell } from '../component/Cell';\nimport { resolveDefaultProps } from '../util/resolveDefaultProps';\nimport { usePlotArea } from '../hooks';\nimport { svgPropertiesNoEvents } from '../util/svgPropertiesNoEvents';\nimport { JavascriptAnimate } from '../animation/JavascriptAnimate';\n\n/**\n * Internal props, combination of external props + defaultProps + private Recharts state\n */\n\n/**\n * External props, intended for end users to fill in\n */\n\nfunction getTooltipEntrySettings(props) {\n  var {\n    dataKey,\n    nameKey,\n    stroke,\n    strokeWidth,\n    fill,\n    name,\n    hide,\n    tooltipType,\n    data\n  } = props;\n  return {\n    dataDefinedOnItem: data,\n    positions: props.trapezoids.map(_ref => {\n      var {\n        tooltipPosition\n      } = _ref;\n      return tooltipPosition;\n    }),\n    settings: {\n      stroke,\n      strokeWidth,\n      fill,\n      dataKey,\n      name,\n      nameKey,\n      hide,\n      type: tooltipType,\n      color: fill,\n      unit: '' // Funnel does not have unit, why?\n    }\n  };\n}\nfunction FunnelTrapezoids(props) {\n  var {\n    trapezoids,\n    allOtherFunnelProps,\n    showLabels\n  } = props;\n  var activeItemIndex = useAppSelector(state => selectActiveIndex(state, 'item', state.tooltip.settings.trigger, undefined));\n  var {\n      onMouseEnter: onMouseEnterFromProps,\n      onClick: onItemClickFromProps,\n      onMouseLeave: onMouseLeaveFromProps,\n      shape,\n      activeShape\n    } = allOtherFunnelProps,\n    restOfAllOtherProps = _objectWithoutProperties(allOtherFunnelProps, _excluded);\n  var onMouseEnterFromContext = useMouseEnterItemDispatch(onMouseEnterFromProps, allOtherFunnelProps.dataKey);\n  var onMouseLeaveFromContext = useMouseLeaveItemDispatch(onMouseLeaveFromProps);\n  var onClickFromContext = useMouseClickItemDispatch(onItemClickFromProps, allOtherFunnelProps.dataKey);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, trapezoids.map((entry, i) => {\n    var isActiveIndex = activeShape && activeItemIndex === String(i);\n    var trapezoidOptions = isActiveIndex ? activeShape : shape;\n    var trapezoidProps = _objectSpread(_objectSpread({}, entry), {}, {\n      option: trapezoidOptions,\n      isActive: isActiveIndex,\n      stroke: entry.stroke\n    });\n    return /*#__PURE__*/React.createElement(Layer, _extends({\n      className: \"recharts-funnel-trapezoid\"\n    }, adaptEventsOfChild(restOfAllOtherProps, entry, i), {\n      // @ts-expect-error the types need a bit of attention\n      onMouseEnter: onMouseEnterFromContext(entry, i)\n      // @ts-expect-error the types need a bit of attention\n      ,\n      onMouseLeave: onMouseLeaveFromContext(entry, i)\n      // @ts-expect-error the types need a bit of attention\n      ,\n      onClick: onClickFromContext(entry, i),\n      key: \"trapezoid-\".concat(entry === null || entry === void 0 ? void 0 : entry.x, \"-\").concat(entry === null || entry === void 0 ? void 0 : entry.y, \"-\").concat(entry === null || entry === void 0 ? void 0 : entry.name, \"-\").concat(entry === null || entry === void 0 ? void 0 : entry.value)\n    }), /*#__PURE__*/React.createElement(FunnelTrapezoid, trapezoidProps));\n  }), showLabels && LabelList.renderCallByParent(allOtherFunnelProps, trapezoids));\n}\nvar latestId = 0;\n\n/**\n * This hook will return a unique animation id for the given reference.\n * The ID increments every time the reference changes.\n * @param reference The reference to track\n * @returns The unique animation ID\n */\nfunction useAnimationId(reference) {\n  var idRef = useRef(latestId);\n  var ref = useRef(reference);\n  if (ref.current !== reference) {\n    idRef.current += 1;\n    latestId = idRef.current;\n    ref.current = reference;\n  }\n  return idRef.current;\n}\nfunction TrapezoidsWithAnimation(_ref2) {\n  var {\n    previousTrapezoidsRef,\n    props\n  } = _ref2;\n  var {\n    trapezoids,\n    isAnimationActive,\n    animationBegin,\n    animationDuration,\n    animationEasing,\n    onAnimationEnd,\n    onAnimationStart\n  } = props;\n  var prevTrapezoids = previousTrapezoidsRef.current;\n  var [isAnimating, setIsAnimating] = useState(true);\n  var animationId = useAnimationId(trapezoids);\n  var handleAnimationEnd = useCallback(() => {\n    if (typeof onAnimationEnd === 'function') {\n      onAnimationEnd();\n    }\n    setIsAnimating(false);\n  }, [onAnimationEnd]);\n  var handleAnimationStart = useCallback(() => {\n    if (typeof onAnimationStart === 'function') {\n      onAnimationStart();\n    }\n    setIsAnimating(true);\n  }, [onAnimationStart]);\n  return /*#__PURE__*/React.createElement(JavascriptAnimate, {\n    begin: animationBegin,\n    duration: animationDuration,\n    isActive: isAnimationActive,\n    easing: animationEasing,\n    key: animationId,\n    onAnimationStart: handleAnimationStart,\n    onAnimationEnd: handleAnimationEnd\n  }, t => {\n    var stepData = t === 1 ? trapezoids : trapezoids.map((entry, index) => {\n      var prev = prevTrapezoids && prevTrapezoids[index];\n      if (prev) {\n        var _interpolatorX = interpolateNumber(prev.x, entry.x);\n        var _interpolatorY = interpolateNumber(prev.y, entry.y);\n        var _interpolatorUpperWidth = interpolateNumber(prev.upperWidth, entry.upperWidth);\n        var _interpolatorLowerWidth = interpolateNumber(prev.lowerWidth, entry.lowerWidth);\n        var _interpolatorHeight = interpolateNumber(prev.height, entry.height);\n        return _objectSpread(_objectSpread({}, entry), {}, {\n          x: _interpolatorX(t),\n          y: _interpolatorY(t),\n          upperWidth: _interpolatorUpperWidth(t),\n          lowerWidth: _interpolatorLowerWidth(t),\n          height: _interpolatorHeight(t)\n        });\n      }\n      var interpolatorX = interpolateNumber(entry.x + entry.upperWidth / 2, entry.x);\n      var interpolatorY = interpolateNumber(entry.y + entry.height / 2, entry.y);\n      var interpolatorUpperWidth = interpolateNumber(0, entry.upperWidth);\n      var interpolatorLowerWidth = interpolateNumber(0, entry.lowerWidth);\n      var interpolatorHeight = interpolateNumber(0, entry.height);\n      return _objectSpread(_objectSpread({}, entry), {}, {\n        x: interpolatorX(t),\n        y: interpolatorY(t),\n        upperWidth: interpolatorUpperWidth(t),\n        lowerWidth: interpolatorLowerWidth(t),\n        height: interpolatorHeight(t)\n      });\n    });\n    if (t > 0) {\n      // eslint-disable-next-line no-param-reassign\n      previousTrapezoidsRef.current = stepData;\n    }\n    return /*#__PURE__*/React.createElement(Layer, null, /*#__PURE__*/React.createElement(FunnelTrapezoids, {\n      trapezoids: stepData,\n      allOtherFunnelProps: props,\n      showLabels: !isAnimating\n    }));\n  });\n}\nfunction RenderTrapezoids(props) {\n  var {\n    trapezoids,\n    isAnimationActive\n  } = props;\n  var previousTrapezoidsRef = useRef(null);\n  var prevTrapezoids = previousTrapezoidsRef.current;\n  if (isAnimationActive && trapezoids && trapezoids.length && (!prevTrapezoids || prevTrapezoids !== trapezoids)) {\n    return /*#__PURE__*/React.createElement(TrapezoidsWithAnimation, {\n      props: props,\n      previousTrapezoidsRef: previousTrapezoidsRef\n    });\n  }\n  return /*#__PURE__*/React.createElement(FunnelTrapezoids, {\n    trapezoids: trapezoids,\n    allOtherFunnelProps: props,\n    showLabels: true\n  });\n}\nvar getRealWidthHeight = (customWidth, offset) => {\n  var {\n    width,\n    height,\n    left,\n    right,\n    top,\n    bottom\n  } = offset;\n  var realHeight = height;\n  var realWidth = width;\n  if (isNumber(customWidth)) {\n    realWidth = customWidth;\n  } else if (typeof customWidth === 'string') {\n    realWidth = realWidth * parseFloat(customWidth) / 100;\n  }\n  return {\n    realWidth: realWidth - left - right - 50,\n    realHeight: realHeight - bottom - top,\n    offsetX: (width - realWidth) / 2,\n    offsetY: (height - realHeight) / 2\n  };\n};\nexport class FunnelWithState extends PureComponent {\n  render() {\n    var {\n      className\n    } = this.props;\n    var layerClass = clsx('recharts-trapezoids', className);\n    return /*#__PURE__*/React.createElement(Layer, {\n      className: layerClass\n    }, /*#__PURE__*/React.createElement(RenderTrapezoids, this.props));\n  }\n}\nvar defaultFunnelProps = {\n  stroke: '#fff',\n  fill: '#808080',\n  legendType: 'rect',\n  hide: false,\n  isAnimationActive: !Global.isSsr,\n  animationBegin: 400,\n  animationDuration: 1500,\n  animationEasing: 'ease',\n  nameKey: 'name',\n  lastShapeType: 'triangle'\n};\nfunction FunnelImpl(props) {\n  var {\n    height,\n    width\n  } = usePlotArea();\n  var _resolveDefaultProps = resolveDefaultProps(props, defaultFunnelProps),\n    {\n      stroke,\n      fill,\n      legendType,\n      hide,\n      isAnimationActive,\n      animationBegin,\n      animationDuration,\n      animationEasing,\n      nameKey,\n      lastShapeType\n    } = _resolveDefaultProps,\n    everythingElse = _objectWithoutProperties(_resolveDefaultProps, _excluded2);\n  var presentationProps = svgPropertiesNoEvents(props);\n  var cells = findAllByType(props.children, Cell);\n  var funnelSettings = useMemo(() => ({\n    dataKey: props.dataKey,\n    nameKey,\n    data: props.data,\n    tooltipType: props.tooltipType,\n    lastShapeType,\n    reversed: props.reversed,\n    customWidth: props.width,\n    cells,\n    presentationProps\n  }), [props.dataKey, nameKey, props.data, props.tooltipType, lastShapeType, props.reversed, props.width, cells, presentationProps]);\n  var {\n    trapezoids\n  } = useAppSelector(state => selectFunnelTrapezoids(state, funnelSettings));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SetTooltipEntrySettings, {\n    fn: getTooltipEntrySettings,\n    args: _objectSpread(_objectSpread({}, props), {}, {\n      trapezoids\n    })\n  }), hide ? null : /*#__PURE__*/React.createElement(FunnelWithState, _extends({}, everythingElse, {\n    stroke: stroke,\n    fill: fill,\n    nameKey: nameKey,\n    lastShapeType: lastShapeType,\n    animationBegin: animationBegin,\n    animationDuration: animationDuration,\n    animationEasing: animationEasing,\n    isAnimationActive: isAnimationActive,\n    hide: hide,\n    legendType: legendType,\n    height: height,\n    width: width,\n    trapezoids: trapezoids\n  })));\n}\nexport function computeFunnelTrapezoids(_ref3) {\n  var {\n    dataKey,\n    nameKey,\n    displayedData,\n    tooltipType,\n    lastShapeType,\n    reversed,\n    offset,\n    customWidth\n  } = _ref3;\n  var {\n    left,\n    top\n  } = offset;\n  var {\n    realHeight,\n    realWidth,\n    offsetX,\n    offsetY\n  } = getRealWidthHeight(customWidth, offset);\n  var maxValue = Math.max.apply(null, displayedData.map(entry => getValueByDataKey(entry, dataKey, 0)));\n  var len = displayedData.length;\n  var rowHeight = realHeight / len;\n  var parentViewBox = {\n    x: offset.left,\n    y: offset.top,\n    width: offset.width,\n    height: offset.height\n  };\n  var trapezoids = displayedData.map((entry, i) => {\n    var rawVal = getValueByDataKey(entry, dataKey, 0);\n    var name = getValueByDataKey(entry, nameKey, i);\n    var val = rawVal;\n    var nextVal;\n    if (i !== len - 1) {\n      nextVal = getValueByDataKey(displayedData[i + 1], dataKey, 0);\n      if (nextVal instanceof Array) {\n        [nextVal] = nextVal;\n      }\n    } else if (rawVal instanceof Array && rawVal.length === 2) {\n      [val, nextVal] = rawVal;\n    } else if (lastShapeType === 'rectangle') {\n      nextVal = val;\n    } else {\n      nextVal = 0;\n    }\n\n    // @ts-expect-error getValueByDataKey does not validate the output type\n    var x = (maxValue - val) * realWidth / (2 * maxValue) + top + 25 + offsetX;\n    var y = rowHeight * i + left + offsetY;\n    // @ts-expect-error getValueByDataKey does not validate the output type\n    var upperWidth = val / maxValue * realWidth;\n    var lowerWidth = nextVal / maxValue * realWidth;\n    var tooltipPayload = [{\n      name,\n      value: val,\n      payload: entry,\n      dataKey,\n      type: tooltipType\n    }];\n    var tooltipPosition = {\n      x: x + upperWidth / 2,\n      y: y + rowHeight / 2\n    };\n    return _objectSpread(_objectSpread({\n      x,\n      y,\n      width: Math.max(upperWidth, lowerWidth),\n      upperWidth,\n      lowerWidth,\n      height: rowHeight,\n      // @ts-expect-error getValueByDataKey does not validate the output type\n      name,\n      val,\n      tooltipPayload,\n      tooltipPosition\n    }, omit(entry, ['width'])), {}, {\n      payload: entry,\n      parentViewBox,\n      labelViewBox: {\n        x: x + (upperWidth - lowerWidth) / 4,\n        y,\n        width: Math.abs(upperWidth - lowerWidth) / 2 + Math.min(upperWidth, lowerWidth),\n        height: rowHeight\n      }\n    });\n  });\n  if (reversed) {\n    trapezoids = trapezoids.map((entry, index) => {\n      var newY = entry.y - index * rowHeight + (len - 1 - index) * rowHeight;\n      return _objectSpread(_objectSpread({}, entry), {}, {\n        upperWidth: entry.lowerWidth,\n        lowerWidth: entry.upperWidth,\n        x: entry.x - (entry.lowerWidth - entry.upperWidth) / 2,\n        y: entry.y - index * rowHeight + (len - 1 - index) * rowHeight,\n        tooltipPosition: _objectSpread(_objectSpread({}, entry.tooltipPosition), {}, {\n          y: newY + rowHeight / 2\n        }),\n        labelViewBox: _objectSpread(_objectSpread({}, entry.labelViewBox), {}, {\n          y: newY\n        })\n      });\n    });\n  }\n  return {\n    trapezoids,\n    data: displayedData\n  };\n}\nexport class Funnel extends PureComponent {\n  render() {\n    return /*#__PURE__*/React.createElement(FunnelImpl, this.props);\n  }\n}\n_defineProperty(Funnel, \"displayName\", 'Funnel');\n_defineProperty(Funnel, \"defaultProps\", defaultFunnelProps);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}